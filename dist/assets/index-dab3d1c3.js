(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Qu={exports:{}},ri={},Xu={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),zh=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),Fh=Symbol.for("react.provider"),Wh=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),Hh=Symbol.for("react.suspense"),Kh=Symbol.for("react.memo"),qh=Symbol.for("react.lazy"),pa=Symbol.iterator;function Gh(e){return e===null||typeof e!="object"?null:(e=pa&&e[pa]||e["@@iterator"],typeof e=="function"?e:null)}var Yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zu=Object.assign,ec={};function Hn(e,t,n){this.props=e,this.context=t,this.refs=ec,this.updater=n||Yu}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tc(){}tc.prototype=Hn.prototype;function pl(e,t,n){this.props=e,this.context=t,this.refs=ec,this.updater=n||Yu}var ml=pl.prototype=new tc;ml.constructor=pl;Zu(ml,Hn.prototype);ml.isPureReactComponent=!0;var ma=Array.isArray,nc=Object.prototype.hasOwnProperty,gl={current:null},rc={key:!0,ref:!0,__self:!0,__source:!0};function sc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)nc.call(t,r)&&!rc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Br,type:e,key:i,ref:o,props:s,_owner:gl.current}}function Jh(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function Qh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ga=/\/+/g;function bi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qh(""+e.key):t.toString(36)}function ys(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Br:case zh:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+bi(o,0):r,ma(s)?(n="",e!=null&&(n=e.replace(ga,"$&/")+"/"),ys(s,t,n,"",function(c){return c})):s!=null&&(yl(s)&&(s=Jh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ga,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ma(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+bi(i,l);o+=ys(i,t,n,a,s)}else if(a=Gh(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+bi(i,l++),o+=ys(i,t,n,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qr(e,t,n){if(e==null)return e;var r=[],s=0;return ys(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Xh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},vs={transition:null},Yh={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:vs,ReactCurrentOwner:gl};function ic(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Qr,forEach:function(e,t,n){Qr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qr(e,function(){t++}),t},toArray:function(e){return Qr(e,function(t){return t})||[]},only:function(e){if(!yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Hn;B.Fragment=Mh;B.Profiler=Bh;B.PureComponent=pl;B.StrictMode=Dh;B.Suspense=Hh;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;B.act=ic;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)nc.call(t,a)&&!rc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Br,type:e.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:Wh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fh,_context:e},e.Consumer=e};B.createElement=sc;B.createFactory=function(e){var t=sc.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:Vh,render:e}};B.isValidElement=yl;B.lazy=function(e){return{$$typeof:qh,_payload:{_status:-1,_result:e},_init:Xh}};B.memo=function(e,t){return{$$typeof:Kh,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};B.unstable_act=ic;B.useCallback=function(e,t){return Se.current.useCallback(e,t)};B.useContext=function(e){return Se.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};B.useEffect=function(e,t){return Se.current.useEffect(e,t)};B.useId=function(){return Se.current.useId()};B.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Se.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};B.useRef=function(e){return Se.current.useRef(e)};B.useState=function(e){return Se.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Se.current.useTransition()};B.version="18.3.1";Xu.exports=B;var z=Xu.exports;const Zh=$h(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=z,tf=Symbol.for("react.element"),nf=Symbol.for("react.fragment"),rf=Object.prototype.hasOwnProperty,sf=ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,of={key:!0,ref:!0,__self:!0,__source:!0};function oc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)rf.call(t,r)&&!of.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:tf,type:e,key:i,ref:o,props:s,_owner:sf.current}}ri.Fragment=nf;ri.jsx=oc;ri.jsxs=oc;Qu.exports=ri;var u=Qu.exports,oo={},lc={exports:{}},Ie={},ac={exports:{}},uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,U){var $=k.length;k.push(U);e:for(;0<$;){var q=$-1>>>1,Z=k[q];if(0<s(Z,U))k[q]=U,k[$]=Z,$=q;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],$=k.pop();if($!==U){k[0]=$;e:for(var q=0,Z=k.length,cn=Z>>>1;q<cn;){var Ft=2*(q+1)-1,ji=k[Ft],Wt=Ft+1,Jr=k[Wt];if(0>s(ji,$))Wt<Z&&0>s(Jr,ji)?(k[q]=Jr,k[Wt]=$,q=Wt):(k[q]=ji,k[Ft]=$,q=Ft);else if(Wt<Z&&0>s(Jr,$))k[q]=Jr,k[Wt]=$,q=Wt;else break e}}return U}function s(k,U){var $=k.sortIndex-U.sortIndex;return $!==0?$:k.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,p=3,v=!1,y=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=k)r(c),U.sortIndex=U.expirationTime,t(a,U);else break;U=n(c)}}function _(k){if(j=!1,g(k),!y)if(n(a)!==null)y=!0,O(x);else{var U=n(c);U!==null&&I(_,U.startTime-k)}}function x(k,U){y=!1,j&&(j=!1,m(E),E=-1),v=!0;var $=p;try{for(g(U),h=n(a);h!==null&&(!(h.expirationTime>U)||k&&!W());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var Z=q(h.expirationTime<=U);U=e.unstable_now(),typeof Z=="function"?h.callback=Z:h===n(a)&&r(a),g(U)}else r(a);h=n(a)}if(h!==null)var cn=!0;else{var Ft=n(c);Ft!==null&&I(_,Ft.startTime-U),cn=!1}return cn}finally{h=null,p=$,v=!1}}var N=!1,b=null,E=-1,A=5,R=-1;function W(){return!(e.unstable_now()-R<A)}function P(){if(b!==null){var k=e.unstable_now();R=k;var U=!0;try{U=b(!0,k)}finally{U?K():(N=!1,b=null)}}else N=!1}var K;if(typeof f=="function")K=function(){f(P)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,S=w.port2;w.port1.onmessage=P,K=function(){S.postMessage(null)}}else K=function(){C(P,0)};function O(k){b=k,N||(N=!0,K())}function I(k,U){E=C(function(){k(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,O(x))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var $=p;p=U;try{return k()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=p;p=k;try{return U()}finally{p=$}},e.unstable_scheduleCallback=function(k,U,$){var q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=$+Z,k={id:d++,callback:U,priorityLevel:k,startTime:$,expirationTime:Z,sortIndex:-1},$>q?(k.sortIndex=$,t(c,k),n(a)===null&&k===n(c)&&(j?(m(E),E=-1):j=!0,I(_,$-q))):(k.sortIndex=Z,t(a,k),y||v||(y=!0,O(x))),k},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(k){var U=p;return function(){var $=p;p=U;try{return k.apply(this,arguments)}finally{p=$}}}})(uc);ac.exports=uc;var lf=ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=z,Le=lf;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cc=new Set,Sr={};function ln(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(Sr[e]=t,e=0;e<t.length;e++)cc.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=Object.prototype.hasOwnProperty,uf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ya={},va={};function cf(e){return lo.call(va,e)?!0:lo.call(ya,e)?!1:uf.test(e)?va[e]=!0:(ya[e]=!0,!1)}function df(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hf(e,t,n,r){if(t===null||typeof t>"u"||df(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){me[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){me[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){me[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){me[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var vl=/[\-:]([a-z])/g;function wl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vl,wl);me[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vl,wl);me[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vl,wl);me[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){me[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});me.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){me[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function _l(e,t,n,r){var s=me.hasOwnProperty(t)?me[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hf(t,n,s,r)&&(n=null),r||s===null?cf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gt=af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xr=Symbol.for("react.element"),wn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),kl=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),dc=Symbol.for("react.provider"),hc=Symbol.for("react.context"),xl=Symbol.for("react.forward_ref"),uo=Symbol.for("react.suspense"),co=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),fc=Symbol.for("react.offscreen"),wa=Symbol.iterator;function Qn(e){return e===null||typeof e!="object"?null:(e=wa&&e[wa]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,Ni;function or(e){if(Ni===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ni=t&&t[1]||""}return`
`+Ni+e}var Ei=!1;function Ti(e,t){if(!e||Ei)return"";Ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?or(e):""}function ff(e){switch(e.tag){case 5:return or(e.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return e=Ti(e.type,!1),e;case 11:return e=Ti(e.type.render,!1),e;case 1:return e=Ti(e.type,!0),e;default:return""}}function ho(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case wn:return"Portal";case ao:return"Profiler";case kl:return"StrictMode";case uo:return"Suspense";case co:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hc:return(e.displayName||"Context")+".Consumer";case dc:return(e._context.displayName||"Context")+".Provider";case xl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sl:return t=e.displayName||null,t!==null?t:ho(e.type)||"Memo";case _t:t=e._payload,e=e._init;try{return ho(e(t))}catch{}}return null}function pf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ho(t);case 8:return t===kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function It(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mf(e){var t=pc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yr(e){e._valueTracker||(e._valueTracker=mf(e))}function mc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fo(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _a(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=It(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gc(e,t){t=t.checked,t!=null&&_l(e,"checked",t,!1)}function po(e,t){gc(e,t);var n=It(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mo(e,t.type,n):t.hasOwnProperty("defaultValue")&&mo(e,t.type,It(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ka(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mo(e,t,n){(t!=="number"||Ps(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lr=Array.isArray;function An(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+It(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function go(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(lr(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:It(n)}}function yc(e,t){var n=It(t.value),r=It(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zr,wc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gf=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(e){gf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dr[t]=dr[e]})});function _c(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dr.hasOwnProperty(e)&&dr[e]?(""+t).trim():t+"px"}function kc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_c(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var yf=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(e,t){if(t){if(yf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ko=null,On=null,Rn=null;function ja(e){if(e=Vr(e)){if(typeof ko!="function")throw Error(T(280));var t=e.stateNode;t&&(t=ai(t),ko(e.stateNode,e.type,t))}}function xc(e){On?Rn?Rn.push(e):Rn=[e]:On=e}function Sc(){if(On){var e=On,t=Rn;if(Rn=On=null,ja(e),t)for(e=0;e<t.length;e++)ja(t[e])}}function jc(e,t){return e(t)}function bc(){}var Ci=!1;function Nc(e,t,n){if(Ci)return e(t,n);Ci=!0;try{return jc(e,t,n)}finally{Ci=!1,(On!==null||Rn!==null)&&(bc(),Sc())}}function br(e,t){var n=e.stateNode;if(n===null)return null;var r=ai(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var xo=!1;if(ht)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{xo=!1}function vf(e,t,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var hr=!1,As=null,Os=!1,So=null,wf={onError:function(e){hr=!0,As=e}};function _f(e,t,n,r,s,i,o,l,a){hr=!1,As=null,vf.apply(wf,arguments)}function kf(e,t,n,r,s,i,o,l,a){if(_f.apply(this,arguments),hr){if(hr){var c=As;hr=!1,As=null}else throw Error(T(198));Os||(Os=!0,So=c)}}function an(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ec(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ba(e){if(an(e)!==e)throw Error(T(188))}function xf(e){var t=e.alternate;if(!t){if(t=an(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ba(s),e;if(i===r)return ba(s),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function Tc(e){return e=xf(e),e!==null?Cc(e):null}function Cc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cc(e);if(t!==null)return t;e=e.sibling}return null}var Pc=Le.unstable_scheduleCallback,Na=Le.unstable_cancelCallback,Sf=Le.unstable_shouldYield,jf=Le.unstable_requestPaint,ie=Le.unstable_now,bf=Le.unstable_getCurrentPriorityLevel,bl=Le.unstable_ImmediatePriority,Ac=Le.unstable_UserBlockingPriority,Rs=Le.unstable_NormalPriority,Nf=Le.unstable_LowPriority,Oc=Le.unstable_IdlePriority,si=null,rt=null;function Ef(e){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Pf,Tf=Math.log,Cf=Math.LN2;function Pf(e){return e>>>=0,e===0?32:31-(Tf(e)/Cf|0)|0}var es=64,ts=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ls(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ar(l):(i&=o,i!==0&&(r=ar(i)))}else o=n&~s,o!==0?r=ar(o):i!==0&&(r=ar(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qe(t),s=1<<n,r|=e[n],t&=~s;return r}function Af(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Of(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Qe(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Af(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rc(){var e=es;return es<<=1,!(es&4194240)&&(es=64),e}function Pi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qe(t),e[t]=n}function Rf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qe(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Nl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var V=0;function Lc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ic,El,$c,Uc,zc,bo=!1,ns=[],Et=null,Tt=null,Ct=null,Nr=new Map,Er=new Map,xt=[],Lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ea(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function Yn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vr(t),t!==null&&El(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function If(e,t,n,r,s){switch(t){case"focusin":return Et=Yn(Et,e,t,n,r,s),!0;case"dragenter":return Tt=Yn(Tt,e,t,n,r,s),!0;case"mouseover":return Ct=Yn(Ct,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Nr.set(i,Yn(Nr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Er.set(i,Yn(Er.get(i)||null,e,t,n,r,s)),!0}return!1}function Mc(e){var t=Qt(e.target);if(t!==null){var n=an(t);if(n!==null){if(t=n.tag,t===13){if(t=Ec(n),t!==null){e.blockedOn=t,zc(e.priority,function(){$c(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=No(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_o=r,n.target.dispatchEvent(r),_o=null}else return t=Vr(n),t!==null&&El(t),e.blockedOn=n,!1;t.shift()}return!0}function Ta(e,t,n){ws(e)&&n.delete(t)}function $f(){bo=!1,Et!==null&&ws(Et)&&(Et=null),Tt!==null&&ws(Tt)&&(Tt=null),Ct!==null&&ws(Ct)&&(Ct=null),Nr.forEach(Ta),Er.forEach(Ta)}function Zn(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,$f)))}function Tr(e){function t(s){return Zn(s,e)}if(0<ns.length){Zn(ns[0],e);for(var n=1;n<ns.length;n++){var r=ns[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Et!==null&&Zn(Et,e),Tt!==null&&Zn(Tt,e),Ct!==null&&Zn(Ct,e),Nr.forEach(t),Er.forEach(t),n=0;n<xt.length;n++)r=xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Mc(n),n.blockedOn===null&&xt.shift()}var Ln=gt.ReactCurrentBatchConfig,Is=!0;function Uf(e,t,n,r){var s=V,i=Ln.transition;Ln.transition=null;try{V=1,Tl(e,t,n,r)}finally{V=s,Ln.transition=i}}function zf(e,t,n,r){var s=V,i=Ln.transition;Ln.transition=null;try{V=4,Tl(e,t,n,r)}finally{V=s,Ln.transition=i}}function Tl(e,t,n,r){if(Is){var s=No(e,t,n,r);if(s===null)Di(e,t,r,$s,n),Ea(e,r);else if(If(s,e,t,n,r))r.stopPropagation();else if(Ea(e,r),t&4&&-1<Lf.indexOf(e)){for(;s!==null;){var i=Vr(s);if(i!==null&&Ic(i),i=No(e,t,n,r),i===null&&Di(e,t,r,$s,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Di(e,t,r,null,n)}}var $s=null;function No(e,t,n,r){if($s=null,e=jl(r),e=Qt(e),e!==null)if(t=an(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ec(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function Dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bf()){case bl:return 1;case Ac:return 4;case Rs:case Nf:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var bt=null,Cl=null,_s=null;function Bc(){if(_s)return _s;var e,t=Cl,n=t.length,r,s="value"in bt?bt.value:bt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return _s=s.slice(e,1<r?1-r:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function Ca(){return!1}function $e(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rs:Ca,this.isPropagationStopped=Ca,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=$e(Kn),Wr=ne({},Kn,{view:0,detail:0}),Mf=$e(Wr),Ai,Oi,er,ii=ne({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(Ai=e.screenX-er.screenX,Oi=e.screenY-er.screenY):Oi=Ai=0,er=e),Ai)},movementY:function(e){return"movementY"in e?e.movementY:Oi}}),Pa=$e(ii),Df=ne({},ii,{dataTransfer:0}),Bf=$e(Df),Ff=ne({},Wr,{relatedTarget:0}),Ri=$e(Ff),Wf=ne({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=$e(Wf),Hf=ne({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kf=$e(Hf),qf=ne({},Kn,{data:0}),Aa=$e(qf),Gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qf[e])?!!t[e]:!1}function Al(){return Xf}var Yf=ne({},Wr,{key:function(e){if(e.key){var t=Gf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zf=$e(Yf),ep=ne({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oa=$e(ep),tp=ne({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),np=$e(tp),rp=ne({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=$e(rp),ip=ne({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),op=$e(ip),lp=[9,13,27,32],Ol=ht&&"CompositionEvent"in window,fr=null;ht&&"documentMode"in document&&(fr=document.documentMode);var ap=ht&&"TextEvent"in window&&!fr,Fc=ht&&(!Ol||fr&&8<fr&&11>=fr),Ra=String.fromCharCode(32),La=!1;function Wc(e,t){switch(e){case"keyup":return lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function up(e,t){switch(e){case"compositionend":return Vc(t);case"keypress":return t.which!==32?null:(La=!0,Ra);case"textInput":return e=t.data,e===Ra&&La?null:e;default:return null}}function cp(e,t){if(kn)return e==="compositionend"||!Ol&&Wc(e,t)?(e=Bc(),_s=Cl=bt=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fc&&t.locale!=="ko"?null:t.data;default:return null}}var dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dp[e.type]:t==="textarea"}function Hc(e,t,n,r){xc(r),t=Us(t,"onChange"),0<t.length&&(n=new Pl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pr=null,Cr=null;function hp(e){nd(e,0)}function oi(e){var t=jn(e);if(mc(t))return e}function fp(e,t){if(e==="change")return t}var Kc=!1;if(ht){var Li;if(ht){var Ii="oninput"in document;if(!Ii){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Ii=typeof $a.oninput=="function"}Li=Ii}else Li=!1;Kc=Li&&(!document.documentMode||9<document.documentMode)}function Ua(){pr&&(pr.detachEvent("onpropertychange",qc),Cr=pr=null)}function qc(e){if(e.propertyName==="value"&&oi(Cr)){var t=[];Hc(t,Cr,e,jl(e)),Nc(hp,t)}}function pp(e,t,n){e==="focusin"?(Ua(),pr=t,Cr=n,pr.attachEvent("onpropertychange",qc)):e==="focusout"&&Ua()}function mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oi(Cr)}function gp(e,t){if(e==="click")return oi(t)}function yp(e,t){if(e==="input"||e==="change")return oi(t)}function vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:vp;function Pr(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lo.call(t,s)||!Ye(e[s],t[s]))return!1}return!0}function za(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ma(e,t){var n=za(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=za(n)}}function Gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jc(){for(var e=window,t=Ps();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=Jc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gc(n.ownerDocument.documentElement,n)){if(r!==null&&Rl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ma(n,i);var o=Ma(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _p=ht&&"documentMode"in document&&11>=document.documentMode,xn=null,Eo=null,mr=null,To=!1;function Da(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;To||xn==null||xn!==Ps(r)||(r=xn,"selectionStart"in r&&Rl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mr&&Pr(mr,r)||(mr=r,r=Us(Eo,"onSelect"),0<r.length&&(t=new Pl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xn)))}function ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sn={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},$i={},Qc={};ht&&(Qc=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function li(e){if($i[e])return $i[e];if(!Sn[e])return e;var t=Sn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qc)return $i[e]=t[n];return e}var Xc=li("animationend"),Yc=li("animationiteration"),Zc=li("animationstart"),ed=li("transitionend"),td=new Map,Ba="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ut(e,t){td.set(e,t),ln(t,[e])}for(var Ui=0;Ui<Ba.length;Ui++){var zi=Ba[Ui],kp=zi.toLowerCase(),xp=zi[0].toUpperCase()+zi.slice(1);Ut(kp,"on"+xp)}Ut(Xc,"onAnimationEnd");Ut(Yc,"onAnimationIteration");Ut(Zc,"onAnimationStart");Ut("dblclick","onDoubleClick");Ut("focusin","onFocus");Ut("focusout","onBlur");Ut(ed,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function Fa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kf(r,t,void 0,e),e.currentTarget=null}function nd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Fa(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Fa(s,l,c),i=a}}}if(Os)throw e=So,Os=!1,So=null,e}function Q(e,t){var n=t[Ro];n===void 0&&(n=t[Ro]=new Set);var r=e+"__bubble";n.has(r)||(rd(t,e,2,!1),n.add(r))}function Mi(e,t,n){var r=0;t&&(r|=4),rd(n,e,r,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){if(!e[is]){e[is]=!0,cc.forEach(function(n){n!=="selectionchange"&&(Sp.has(n)||Mi(n,!1,e),Mi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,Mi("selectionchange",!1,t))}}function rd(e,t,n,r){switch(Dc(t)){case 1:var s=Uf;break;case 4:s=zf;break;default:s=Tl}n=s.bind(null,t,n,e),s=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Di(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Nc(function(){var c=i,d=jl(n),h=[];e:{var p=td.get(e);if(p!==void 0){var v=Pl,y=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":v=Zf;break;case"focusin":y="focus",v=Ri;break;case"focusout":y="blur",v=Ri;break;case"beforeblur":case"afterblur":v=Ri;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=np;break;case Xc:case Yc:case Zc:v=Vf;break;case ed:v=sp;break;case"scroll":v=Mf;break;case"wheel":v=op;break;case"copy":case"cut":case"paste":v=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Oa}var j=(t&4)!==0,C=!j&&e==="scroll",m=j?p!==null?p+"Capture":null:p;j=[];for(var f=c,g;f!==null;){g=f;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=br(f,m),_!=null&&j.push(Or(f,_,g)))),C)break;f=f.return}0<j.length&&(p=new v(p,y,null,n,d),h.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==_o&&(y=n.relatedTarget||n.fromElement)&&(Qt(y)||y[ft]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?Qt(y):null,y!==null&&(C=an(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(j=Pa,_="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=Oa,_="onPointerLeave",m="onPointerEnter",f="pointer"),C=v==null?p:jn(v),g=y==null?p:jn(y),p=new j(_,f+"leave",v,n,d),p.target=C,p.relatedTarget=g,_=null,Qt(d)===c&&(j=new j(m,f+"enter",y,n,d),j.target=g,j.relatedTarget=C,_=j),C=_,v&&y)t:{for(j=v,m=y,f=0,g=j;g;g=dn(g))f++;for(g=0,_=m;_;_=dn(_))g++;for(;0<f-g;)j=dn(j),f--;for(;0<g-f;)m=dn(m),g--;for(;f--;){if(j===m||m!==null&&j===m.alternate)break t;j=dn(j),m=dn(m)}j=null}else j=null;v!==null&&Wa(h,p,v,j,!1),y!==null&&C!==null&&Wa(h,C,y,j,!0)}}e:{if(p=c?jn(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var x=fp;else if(Ia(p))if(Kc)x=yp;else{x=mp;var N=pp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=gp);if(x&&(x=x(e,c))){Hc(h,x,n,d);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&mo(p,"number",p.value)}switch(N=c?jn(c):window,e){case"focusin":(Ia(N)||N.contentEditable==="true")&&(xn=N,Eo=c,mr=null);break;case"focusout":mr=Eo=xn=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,Da(h,n,d);break;case"selectionchange":if(_p)break;case"keydown":case"keyup":Da(h,n,d)}var b;if(Ol)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else kn?Wc(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Fc&&n.locale!=="ko"&&(kn||E!=="onCompositionStart"?E==="onCompositionEnd"&&kn&&(b=Bc()):(bt=d,Cl="value"in bt?bt.value:bt.textContent,kn=!0)),N=Us(c,E),0<N.length&&(E=new Aa(E,e,null,n,d),h.push({event:E,listeners:N}),b?E.data=b:(b=Vc(n),b!==null&&(E.data=b)))),(b=ap?up(e,n):cp(e,n))&&(c=Us(c,"onBeforeInput"),0<c.length&&(d=new Aa("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}nd(h,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Us(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=br(e,n),i!=null&&r.unshift(Or(e,i,s)),i=br(e,t),i!=null&&r.push(Or(e,i,s))),e=e.return}return r}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wa(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=br(n,i),a!=null&&o.unshift(Or(n,a,l))):s||(a=br(n,i),a!=null&&o.push(Or(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jp=/\r\n?/g,bp=/\u0000|\uFFFD/g;function Va(e){return(typeof e=="string"?e:""+e).replace(jp,`
`).replace(bp,"")}function os(e,t,n){if(t=Va(t),Va(e)!==t&&n)throw Error(T(425))}function zs(){}var Co=null,Po=null;function Ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,Np=typeof clearTimeout=="function"?clearTimeout:void 0,Ha=typeof Promise=="function"?Promise:void 0,Ep=typeof queueMicrotask=="function"?queueMicrotask:typeof Ha<"u"?function(e){return Ha.resolve(null).then(e).catch(Tp)}:Oo;function Tp(e){setTimeout(function(){throw e})}function Bi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Tr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tr(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ka(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),nt="__reactFiber$"+qn,Rr="__reactProps$"+qn,ft="__reactContainer$"+qn,Ro="__reactEvents$"+qn,Cp="__reactListeners$"+qn,Pp="__reactHandles$"+qn;function Qt(e){var t=e[nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ft]||n[nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ka(e);e!==null;){if(n=e[nt])return n;e=Ka(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){return e=e[nt]||e[ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function jn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function ai(e){return e[Rr]||null}var Lo=[],bn=-1;function zt(e){return{current:e}}function X(e){0>bn||(e.current=Lo[bn],Lo[bn]=null,bn--)}function J(e,t){bn++,Lo[bn]=e.current,e.current=t}var $t={},we=zt($t),Te=zt(!1),tn=$t;function zn(e,t){var n=e.type.contextTypes;if(!n)return $t;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(e){return e=e.childContextTypes,e!=null}function Ms(){X(Te),X(we)}function qa(e,t,n){if(we.current!==$t)throw Error(T(168));J(we,t),J(Te,n)}function sd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,pf(e)||"Unknown",s));return ne({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$t,tn=we.current,J(we,e),J(Te,Te.current),!0}function Ga(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=sd(e,t,tn),r.__reactInternalMemoizedMergedChildContext=e,X(Te),X(we),J(we,e)):X(Te),J(Te,n)}var at=null,ui=!1,Fi=!1;function id(e){at===null?at=[e]:at.push(e)}function Ap(e){ui=!0,id(e)}function Mt(){if(!Fi&&at!==null){Fi=!0;var e=0,t=V;try{var n=at;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}at=null,ui=!1}catch(s){throw at!==null&&(at=at.slice(e+1)),Pc(bl,Mt),s}finally{V=t,Fi=!1}}return null}var Nn=[],En=0,Bs=null,Fs=0,Ue=[],ze=0,nn=null,ut=1,ct="";function Kt(e,t){Nn[En++]=Fs,Nn[En++]=Bs,Bs=e,Fs=t}function od(e,t,n){Ue[ze++]=ut,Ue[ze++]=ct,Ue[ze++]=nn,nn=e;var r=ut;e=ct;var s=32-Qe(r)-1;r&=~(1<<s),n+=1;var i=32-Qe(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ut=1<<32-Qe(t)+s|n<<s|r,ct=i+e}else ut=1<<i|n<<s|r,ct=e}function Ll(e){e.return!==null&&(Kt(e,1),od(e,1,0))}function Il(e){for(;e===Bs;)Bs=Nn[--En],Nn[En]=null,Fs=Nn[--En],Nn[En]=null;for(;e===nn;)nn=Ue[--ze],Ue[ze]=null,ct=Ue[--ze],Ue[ze]=null,ut=Ue[--ze],Ue[ze]=null}var Re=null,Oe=null,Y=!1,Je=null;function ld(e,t){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ja(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,Oe=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nn!==null?{id:ut,overflow:ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Re=e,Oe=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $o(e){if(Y){var t=Oe;if(t){var n=t;if(!Ja(e,t)){if(Io(e))throw Error(T(418));t=Pt(n.nextSibling);var r=Re;t&&Ja(e,t)?ld(r,n):(e.flags=e.flags&-4097|2,Y=!1,Re=e)}}else{if(Io(e))throw Error(T(418));e.flags=e.flags&-4097|2,Y=!1,Re=e}}}function Qa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function ls(e){if(e!==Re)return!1;if(!Y)return Qa(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ao(e.type,e.memoizedProps)),t&&(t=Oe)){if(Io(e))throw ad(),Error(T(418));for(;t;)ld(e,t),t=Pt(t.nextSibling)}if(Qa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oe=Pt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=Re?Pt(e.stateNode.nextSibling):null;return!0}function ad(){for(var e=Oe;e;)e=Pt(e.nextSibling)}function Mn(){Oe=Re=null,Y=!1}function $l(e){Je===null?Je=[e]:Je.push(e)}var Op=gt.ReactCurrentBatchConfig;function tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function as(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){var t=e._init;return t(e._payload)}function ud(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Lt(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,g,_){return f===null||f.tag!==6?(f=Ji(g,m.mode,_),f.return=m,f):(f=s(f,g),f.return=m,f)}function a(m,f,g,_){var x=g.type;return x===_n?d(m,f,g.props.children,_,g.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===_t&&Xa(x)===f.type)?(_=s(f,g.props),_.ref=tr(m,f,g),_.return=m,_):(_=Ts(g.type,g.key,g.props,null,m.mode,_),_.ref=tr(m,f,g),_.return=m,_)}function c(m,f,g,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Qi(g,m.mode,_),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function d(m,f,g,_,x){return f===null||f.tag!==7?(f=en(g,m.mode,_,x),f.return=m,f):(f=s(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ji(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xr:return g=Ts(f.type,f.key,f.props,null,m.mode,g),g.ref=tr(m,null,f),g.return=m,g;case wn:return f=Qi(f,m.mode,g),f.return=m,f;case _t:var _=f._init;return h(m,_(f._payload),g)}if(lr(f)||Qn(f))return f=en(f,m.mode,g,null),f.return=m,f;as(m,f)}return null}function p(m,f,g,_){var x=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(m,f,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xr:return g.key===x?a(m,f,g,_):null;case wn:return g.key===x?c(m,f,g,_):null;case _t:return x=g._init,p(m,f,x(g._payload),_)}if(lr(g)||Qn(g))return x!==null?null:d(m,f,g,_,null);as(m,g)}return null}function v(m,f,g,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,l(f,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xr:return m=m.get(_.key===null?g:_.key)||null,a(f,m,_,x);case wn:return m=m.get(_.key===null?g:_.key)||null,c(f,m,_,x);case _t:var N=_._init;return v(m,f,g,N(_._payload),x)}if(lr(_)||Qn(_))return m=m.get(g)||null,d(f,m,_,x,null);as(f,_)}return null}function y(m,f,g,_){for(var x=null,N=null,b=f,E=f=0,A=null;b!==null&&E<g.length;E++){b.index>E?(A=b,b=null):A=b.sibling;var R=p(m,b,g[E],_);if(R===null){b===null&&(b=A);break}e&&b&&R.alternate===null&&t(m,b),f=i(R,f,E),N===null?x=R:N.sibling=R,N=R,b=A}if(E===g.length)return n(m,b),Y&&Kt(m,E),x;if(b===null){for(;E<g.length;E++)b=h(m,g[E],_),b!==null&&(f=i(b,f,E),N===null?x=b:N.sibling=b,N=b);return Y&&Kt(m,E),x}for(b=r(m,b);E<g.length;E++)A=v(b,m,E,g[E],_),A!==null&&(e&&A.alternate!==null&&b.delete(A.key===null?E:A.key),f=i(A,f,E),N===null?x=A:N.sibling=A,N=A);return e&&b.forEach(function(W){return t(m,W)}),Y&&Kt(m,E),x}function j(m,f,g,_){var x=Qn(g);if(typeof x!="function")throw Error(T(150));if(g=x.call(g),g==null)throw Error(T(151));for(var N=x=null,b=f,E=f=0,A=null,R=g.next();b!==null&&!R.done;E++,R=g.next()){b.index>E?(A=b,b=null):A=b.sibling;var W=p(m,b,R.value,_);if(W===null){b===null&&(b=A);break}e&&b&&W.alternate===null&&t(m,b),f=i(W,f,E),N===null?x=W:N.sibling=W,N=W,b=A}if(R.done)return n(m,b),Y&&Kt(m,E),x;if(b===null){for(;!R.done;E++,R=g.next())R=h(m,R.value,_),R!==null&&(f=i(R,f,E),N===null?x=R:N.sibling=R,N=R);return Y&&Kt(m,E),x}for(b=r(m,b);!R.done;E++,R=g.next())R=v(b,m,E,R.value,_),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?E:R.key),f=i(R,f,E),N===null?x=R:N.sibling=R,N=R);return e&&b.forEach(function(P){return t(m,P)}),Y&&Kt(m,E),x}function C(m,f,g,_){if(typeof g=="object"&&g!==null&&g.type===_n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Xr:e:{for(var x=g.key,N=f;N!==null;){if(N.key===x){if(x=g.type,x===_n){if(N.tag===7){n(m,N.sibling),f=s(N,g.props.children),f.return=m,m=f;break e}}else if(N.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===_t&&Xa(x)===N.type){n(m,N.sibling),f=s(N,g.props),f.ref=tr(m,N,g),f.return=m,m=f;break e}n(m,N);break}else t(m,N);N=N.sibling}g.type===_n?(f=en(g.props.children,m.mode,_,g.key),f.return=m,m=f):(_=Ts(g.type,g.key,g.props,null,m.mode,_),_.ref=tr(m,f,g),_.return=m,m=_)}return o(m);case wn:e:{for(N=g.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=Qi(g,m.mode,_),f.return=m,m=f}return o(m);case _t:return N=g._init,C(m,f,N(g._payload),_)}if(lr(g))return y(m,f,g,_);if(Qn(g))return j(m,f,g,_);as(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,g),f.return=m,m=f):(n(m,f),f=Ji(g,m.mode,_),f.return=m,m=f),o(m)):n(m,f)}return C}var Dn=ud(!0),cd=ud(!1),Ws=zt(null),Vs=null,Tn=null,Ul=null;function zl(){Ul=Tn=Vs=null}function Ml(e){var t=Ws.current;X(Ws),e._currentValue=t}function Uo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function In(e,t){Vs=e,Ul=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(Ul!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(Vs===null)throw Error(T(308));Tn=e,Vs.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var Xt=null;function Dl(e){Xt===null?Xt=[e]:Xt.push(e)}function dd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Dl(t)):(n.next=s.next,s.next=n),t.interleaved=n,pt(e,r)}function pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kt=!1;function Bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function At(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,pt(e,n)}return s=r.interleaved,s===null?(t.next=t,Dl(r)):(t.next=s.next,s.next=t),r.interleaved=t,pt(e,n)}function xs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nl(e,n)}}function Ya(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var s=e.updateQueue;kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var p=l.lane,v=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,j=l;switch(p=t,v=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){h=y.call(v,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,p=typeof y=="function"?y.call(v,h,p):y,p==null)break e;h=ne({},h,p);break e;case 2:kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sn|=o,e.lanes=o,e.memoizedState=h}}function Za(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Hr={},st=zt(Hr),Lr=zt(Hr),Ir=zt(Hr);function Yt(e){if(e===Hr)throw Error(T(174));return e}function Fl(e,t){switch(J(Ir,t),J(Lr,e),J(st,Hr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yo(t,e)}X(st),J(st,t)}function Bn(){X(st),X(Lr),X(Ir)}function fd(e){Yt(Ir.current);var t=Yt(st.current),n=yo(t,e.type);t!==n&&(J(Lr,e),J(st,n))}function Wl(e){Lr.current===e&&(X(st),X(Lr))}var ee=zt(0);function Ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wi=[];function Vl(){for(var e=0;e<Wi.length;e++)Wi[e]._workInProgressVersionPrimary=null;Wi.length=0}var Ss=gt.ReactCurrentDispatcher,Vi=gt.ReactCurrentBatchConfig,rn=0,te=null,ue=null,de=null,qs=!1,gr=!1,$r=0,Rp=0;function ge(){throw Error(T(321))}function Hl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function Kl(e,t,n,r,s,i){if(rn=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?Up:zp,e=n(r,s),gr){i=0;do{if(gr=!1,$r=0,25<=i)throw Error(T(301));i+=1,de=ue=null,t.updateQueue=null,Ss.current=Mp,e=n(r,s)}while(gr)}if(Ss.current=Gs,t=ue!==null&&ue.next!==null,rn=0,de=ue=te=null,qs=!1,t)throw Error(T(300));return e}function ql(){var e=$r!==0;return $r=0,e}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?te.memoizedState=de=e:de=de.next=e,de}function We(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=de===null?te.memoizedState:de.next;if(t!==null)de=t,ue=e;else{if(e===null)throw Error(T(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},de===null?te.memoizedState=de=e:de=de.next=e}return de}function Ur(e,t){return typeof t=="function"?t(e):t}function Hi(e){var t=We(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((rn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,te.lanes|=d,sn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,Ye(r,t.memoizedState)||(Ee=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,te.lanes|=i,sn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ki(e){var t=We(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ye(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function pd(){}function md(e,t){var n=te,r=We(),s=t(),i=!Ye(r.memoizedState,s);if(i&&(r.memoizedState=s,Ee=!0),r=r.queue,Gl(vd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||de!==null&&de.memoizedState.tag&1){if(n.flags|=2048,zr(9,yd.bind(null,n,r,s,t),void 0,null),he===null)throw Error(T(349));rn&30||gd(n,t,s)}return s}function gd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yd(e,t,n,r){t.value=n,t.getSnapshot=r,wd(t)&&_d(e)}function vd(e,t,n){return n(function(){wd(t)&&_d(e)})}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function _d(e){var t=pt(e,1);t!==null&&Xe(t,e,1,-1)}function eu(e){var t=et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,te,e),[t.memoizedState,e]}function zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kd(){return We().memoizedState}function js(e,t,n,r){var s=et();te.flags|=e,s.memoizedState=zr(1|t,n,void 0,r===void 0?null:r)}function ci(e,t,n,r){var s=We();r=r===void 0?null:r;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,r!==null&&Hl(r,o.deps)){s.memoizedState=zr(t,n,i,r);return}}te.flags|=e,s.memoizedState=zr(1|t,n,i,r)}function tu(e,t){return js(8390656,8,e,t)}function Gl(e,t){return ci(2048,8,e,t)}function xd(e,t){return ci(4,2,e,t)}function Sd(e,t){return ci(4,4,e,t)}function jd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bd(e,t,n){return n=n!=null?n.concat([e]):null,ci(4,4,jd.bind(null,t,e),n)}function Jl(){}function Nd(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ed(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Td(e,t,n){return rn&21?(Ye(n,t)||(n=Rc(),te.lanes|=n,sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=n)}function Lp(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=Vi.transition;Vi.transition={};try{e(!1),t()}finally{V=n,Vi.transition=r}}function Cd(){return We().memoizedState}function Ip(e,t,n){var r=Rt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pd(e))Ad(t,n);else if(n=dd(e,t,n,r),n!==null){var s=xe();Xe(n,e,r,s),Od(n,t,r)}}function $p(e,t,n){var r=Rt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pd(e))Ad(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ye(l,o)){var a=t.interleaved;a===null?(s.next=s,Dl(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}n=dd(e,t,s,r),n!==null&&(s=xe(),Xe(n,e,r,s),Od(n,t,r))}}function Pd(e){var t=e.alternate;return e===te||t!==null&&t===te}function Ad(e,t){gr=qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Od(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nl(e,n)}}var Gs={readContext:Fe,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},Up={readContext:Fe,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:tu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,js(4194308,4,jd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ip.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:eu,useDebugValue:Jl,useDeferredValue:function(e){return et().memoizedState=e},useTransition:function(){var e=eu(!1),t=e[0];return e=Lp.bind(null,e[1]),et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,s=et();if(Y){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),he===null)throw Error(T(349));rn&30||gd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,tu(vd.bind(null,r,i,e),[e]),r.flags|=2048,zr(9,yd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=et(),t=he.identifierPrefix;if(Y){var n=ct,r=ut;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$r++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zp={readContext:Fe,useCallback:Nd,useContext:Fe,useEffect:Gl,useImperativeHandle:bd,useInsertionEffect:xd,useLayoutEffect:Sd,useMemo:Ed,useReducer:Hi,useRef:kd,useState:function(){return Hi(Ur)},useDebugValue:Jl,useDeferredValue:function(e){var t=We();return Td(t,ue.memoizedState,e)},useTransition:function(){var e=Hi(Ur)[0],t=We().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Cd,unstable_isNewReconciler:!1},Mp={readContext:Fe,useCallback:Nd,useContext:Fe,useEffect:Gl,useImperativeHandle:bd,useInsertionEffect:xd,useLayoutEffect:Sd,useMemo:Ed,useReducer:Ki,useRef:kd,useState:function(){return Ki(Ur)},useDebugValue:Jl,useDeferredValue:function(e){var t=We();return ue===null?t.memoizedState=e:Td(t,ue.memoizedState,e)},useTransition:function(){var e=Ki(Ur)[0],t=We().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:md,useId:Cd,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var di={isMounted:function(e){return(e=e._reactInternals)?an(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Rt(e),i=dt(r,s);i.payload=t,n!=null&&(i.callback=n),t=At(e,i,s),t!==null&&(Xe(t,e,s,r),xs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Rt(e),i=dt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=At(e,i,s),t!==null&&(Xe(t,e,s,r),xs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xe(),r=Rt(e),s=dt(n,r);s.tag=2,t!=null&&(s.callback=t),t=At(e,s,r),t!==null&&(Xe(t,e,r,n),xs(t,e,r))}};function nu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Pr(n,r)||!Pr(s,i):!0}function Rd(e,t,n){var r=!1,s=$t,i=t.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ce(t)?tn:we.current,r=t.contextTypes,i=(r=r!=null)?zn(e,s):$t),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ru(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function Mo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Bl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ce(t)?tn:we.current,s.context=zn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&di.enqueueReplaceState(s,s.state,null),Hs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fn(e,t){try{var n="",r=t;do n+=ff(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Do(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dp=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Qo=r),Do(e,t)},n}function Id(e,t,n){n=dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Do(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Do(e,t),typeof r!="function"&&(Ot===null?Ot=new Set([this]):Ot.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function su(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=em.bind(null,e,t,n),t.then(e,e))}function iu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ou(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dt(-1,1),t.tag=2,At(n,t,1))),n.lanes|=1),e)}var Bp=gt.ReactCurrentOwner,Ee=!1;function ke(e,t,n,r){t.child=e===null?cd(t,null,n,r):Dn(t,e.child,n,r)}function lu(e,t,n,r,s){n=n.render;var i=t.ref;return In(t,s),r=Kl(e,t,n,r,i,s),n=ql(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(Y&&n&&Ll(t),t.flags|=1,ke(e,t,r,s),t.child)}function au(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ra(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,$d(e,t,i,r,s)):(e=Ts(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Pr,n(o,r)&&e.ref===t.ref)return mt(e,t,s)}return t.flags|=1,e=Lt(i,r),e.ref=t.ref,e.return=t,t.child=e}function $d(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Pr(i,r)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,mt(e,t,s)}return Bo(e,t,n,r,s)}function Ud(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Pn,Ae),Ae|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Pn,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,J(Pn,Ae),Ae|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,J(Pn,Ae),Ae|=r;return ke(e,t,s,n),t.child}function zd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bo(e,t,n,r,s){var i=Ce(n)?tn:we.current;return i=zn(t,i),In(t,s),n=Kl(e,t,n,r,i,s),r=ql(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(Y&&r&&Ll(t),t.flags|=1,ke(e,t,n,s),t.child)}function uu(e,t,n,r,s){if(Ce(n)){var i=!0;Ds(t)}else i=!1;if(In(t,s),t.stateNode===null)bs(e,t),Rd(t,n,r),Mo(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fe(c):(c=Ce(n)?tn:we.current,c=zn(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&ru(t,o,r,c),kt=!1;var p=t.memoizedState;o.state=p,Hs(t,r,o,s),a=t.memoizedState,l!==r||p!==a||Te.current||kt?(typeof d=="function"&&(zo(t,n,d,r),a=t.memoizedState),(l=kt||nu(t,n,l,r,p,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,hd(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ke(t.type,l),o.props=c,h=t.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Fe(a):(a=Ce(n)?tn:we.current,a=zn(t,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&ru(t,o,r,a),kt=!1,p=t.memoizedState,o.state=p,Hs(t,r,o,s);var y=t.memoizedState;l!==h||p!==y||Te.current||kt?(typeof v=="function"&&(zo(t,n,v,r),y=t.memoizedState),(c=kt||nu(t,n,c,r,p,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Fo(e,t,n,r,i,s)}function Fo(e,t,n,r,s,i){zd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ga(t,n,!1),mt(e,t,i);r=t.stateNode,Bp.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Dn(t,e.child,null,i),t.child=Dn(t,null,l,i)):ke(e,t,l,i),t.memoizedState=r.state,s&&Ga(t,n,!0),t.child}function Md(e){var t=e.stateNode;t.pendingContext?qa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qa(e,t.context,!1),Fl(e,t.containerInfo)}function cu(e,t,n,r,s){return Mn(),$l(s),t.flags|=256,ke(e,t,n,r),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dd(e,t,n){var r=t.pendingProps,s=ee.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),J(ee,s&1),e===null)return $o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,r,0,null),e=en(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Vo(n),t.memoizedState=Wo,e):Ql(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fp(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Lt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Lt(l,i):(i=en(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Vo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Wo,r}return i=e.child,e=i.sibling,r=Lt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ql(e,t){return t=pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function us(e,t,n,r){return r!==null&&$l(r),Dn(t,e.child,null,n),e=Ql(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fp(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=qi(Error(T(422))),us(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=pi({mode:"visible",children:r.children},s,0,null),i=en(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Dn(t,e.child,null,o),t.child.memoizedState=Vo(o),t.memoizedState=Wo,i);if(!(t.mode&1))return us(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=qi(i,r,void 0),us(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ee||l){if(r=he,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(e,s),Xe(r,e,s,-1))}return na(),r=qi(Error(T(421))),us(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=tm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Oe=Pt(s.nextSibling),Re=t,Y=!0,Je=null,e!==null&&(Ue[ze++]=ut,Ue[ze++]=ct,Ue[ze++]=nn,ut=e.id,ct=e.overflow,nn=t),t=Ql(t,r.children),t.flags|=4096,t)}function du(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Uo(e.return,t,n)}function Gi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Bd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ke(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&du(e,n,t);else if(e.tag===19)du(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ks(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ks(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gi(t,!0,n,null,i);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Lt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wp(e,t,n){switch(t.tag){case 3:Md(t),Mn();break;case 5:fd(t);break;case 1:Ce(t.type)&&Ds(t);break;case 4:Fl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;J(Ws,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?Dd(e,t,n):(J(ee,ee.current&1),e=mt(e,t,n),e!==null?e.sibling:null);J(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Ud(e,t,n)}return mt(e,t,n)}var Fd,Ho,Wd,Vd;Fd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ho=function(){};Wd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Yt(st.current);var i=null;switch(n){case"input":s=fo(e,s),r=fo(e,r),i=[];break;case"select":s=ne({},s,{value:void 0}),r=ne({},r,{value:void 0}),i=[];break;case"textarea":s=go(e,s),r=go(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zs)}vo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Q("scroll",e),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Vd=function(e,t,n,r){n!==r&&(t.flags|=4)};function nr(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vp(e,t,n){var r=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return Ce(t.type)&&Ms(),ye(t),null;case 3:return r=t.stateNode,Bn(),X(Te),X(we),Vl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(Zo(Je),Je=null))),Ho(e,t),ye(t),null;case 5:Wl(t);var s=Yt(Ir.current);if(n=t.type,e!==null&&t.stateNode!=null)Wd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return ye(t),null}if(e=Yt(st.current),ls(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[nt]=t,r[Rr]=i,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(s=0;s<ur.length;s++)Q(ur[s],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":_a(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":xa(r,i),Q("invalid",r)}vo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&os(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&os(r.textContent,l,e),s=["children",""+l]):Sr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Q("scroll",r)}switch(n){case"input":Yr(r),ka(r,i,!0);break;case"textarea":Yr(r),Sa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[nt]=t,e[Rr]=r,Fd(e,t,!1,!1),t.stateNode=e;e:{switch(o=wo(n,r),n){case"dialog":Q("cancel",e),Q("close",e),s=r;break;case"iframe":case"object":case"embed":Q("load",e),s=r;break;case"video":case"audio":for(s=0;s<ur.length;s++)Q(ur[s],e);s=r;break;case"source":Q("error",e),s=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=r;break;case"details":Q("toggle",e),s=r;break;case"input":_a(e,r),s=fo(e,r),Q("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ne({},r,{value:void 0}),Q("invalid",e);break;case"textarea":xa(e,r),s=go(e,r),Q("invalid",e);break;default:s=r}vo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?kc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&wc(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&jr(e,a):typeof a=="number"&&jr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Sr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Q("scroll",e):a!=null&&_l(e,i,a,o))}switch(n){case"input":Yr(e),ka(e,r,!1);break;case"textarea":Yr(e),Sa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+It(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?An(e,!!r.multiple,i,!1):r.defaultValue!=null&&An(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)Vd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=Yt(Ir.current),Yt(st.current),ls(t)){if(r=t.stateNode,n=t.memoizedProps,r[nt]=t,(i=r.nodeValue!==n)&&(e=Re,e!==null))switch(e.tag){case 3:os(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nt]=t,t.stateNode=r}return ye(t),null;case 13:if(X(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Oe!==null&&t.mode&1&&!(t.flags&128))ad(),Mn(),t.flags|=98560,i=!1;else if(i=ls(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[nt]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),i=!1}else Je!==null&&(Zo(Je),Je=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ce===0&&(ce=3):na())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return Bn(),Ho(e,t),e===null&&Ar(t.stateNode.containerInfo),ye(t),null;case 10:return Ml(t.type._context),ye(t),null;case 17:return Ce(t.type)&&Ms(),ye(t),null;case 19:if(X(ee),i=t.memoizedState,i===null)return ye(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)nr(i,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ks(e),o!==null){for(t.flags|=128,nr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>Wn&&(t.flags|=128,r=!0,nr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ks(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return ye(t),null}else 2*ie()-i.renderingStartTime>Wn&&n!==1073741824&&(t.flags|=128,r=!0,nr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,n=ee.current,J(ee,r?n&1|2:n&1),t):(ye(t),null);case 22:case 23:return ta(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ae&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Hp(e,t){switch(Il(t),t.tag){case 1:return Ce(t.type)&&Ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),X(Te),X(we),Vl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wl(t),null;case 13:if(X(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(ee),null;case 4:return Bn(),null;case 10:return Ml(t.type._context),null;case 22:case 23:return ta(),null;case 24:return null;default:return null}}var cs=!1,ve=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,L=null;function Cn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){se(e,t,r)}else n.current=null}function Ko(e,t,n){try{n()}catch(r){se(e,t,r)}}var hu=!1;function qp(e,t){if(Co=Is,e=Jc(),Rl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++c===s&&(l=o),p===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Po={focusedElem:e,selectionRange:n},Is=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,C=y.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?j:Ke(t.type,j),C);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(_){se(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return y=hu,hu=!1,y}function yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ko(t,n,i)}s=s.next}while(s!==r)}}function hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hd(e){var t=e.alternate;t!==null&&(e.alternate=null,Hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Rr],delete t[Ro],delete t[Cp],delete t[Pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kd(e){return e.tag===5||e.tag===3||e.tag===4}function fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zs));else if(r!==4&&(e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function Jo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jo(e,t,n),e=e.sibling;e!==null;)Jo(e,t,n),e=e.sibling}var fe=null,qe=!1;function yt(e,t,n){for(n=n.child;n!==null;)qd(e,t,n),n=n.sibling}function qd(e,t,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:ve||Cn(n,t);case 6:var r=fe,s=qe;fe=null,yt(e,t,n),fe=r,qe=s,fe!==null&&(qe?(e=fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(qe?(e=fe,n=n.stateNode,e.nodeType===8?Bi(e.parentNode,n):e.nodeType===1&&Bi(e,n),Tr(e)):Bi(fe,n.stateNode));break;case 4:r=fe,s=qe,fe=n.stateNode.containerInfo,qe=!0,yt(e,t,n),fe=r,qe=s;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ko(n,t,o),s=s.next}while(s!==r)}yt(e,t,n);break;case 1:if(!ve&&(Cn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){se(n,t,l)}yt(e,t,n);break;case 21:yt(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,yt(e,t,n),ve=r):yt(e,t,n);break;default:yt(e,t,n)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kp),t.forEach(function(r){var s=nm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ve(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,qe=!1;break e;case 3:fe=l.stateNode.containerInfo,qe=!0;break e;case 4:fe=l.stateNode.containerInfo,qe=!0;break e}l=l.return}if(fe===null)throw Error(T(160));qd(i,o,s),fe=null,qe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){se(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gd(t,e),t=t.sibling}function Gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ve(t,e),Ze(e),r&4){try{yr(3,e,e.return),hi(3,e)}catch(j){se(e,e.return,j)}try{yr(5,e,e.return)}catch(j){se(e,e.return,j)}}break;case 1:Ve(t,e),Ze(e),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Ve(t,e),Ze(e),r&512&&n!==null&&Cn(n,n.return),e.flags&32){var s=e.stateNode;try{jr(s,"")}catch(j){se(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&gc(s,i),wo(l,o);var c=wo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?kc(s,h):d==="dangerouslySetInnerHTML"?wc(s,h):d==="children"?jr(s,h):_l(s,d,h,c)}switch(l){case"input":po(s,i);break;case"textarea":yc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?An(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?An(s,!!i.multiple,i.defaultValue,!0):An(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rr]=i}catch(j){se(e,e.return,j)}}break;case 6:if(Ve(t,e),Ze(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(j){se(e,e.return,j)}}break;case 3:if(Ve(t,e),Ze(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(j){se(e,e.return,j)}break;case 4:Ve(t,e),Ze(e);break;case 13:Ve(t,e),Ze(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zl=ie())),r&4&&pu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(c=ve)||d,Ve(t,e),ve=c):Ve(t,e),Ze(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(L=e,d=e.child;d!==null;){for(h=L=d;L!==null;){switch(p=L,v=p.child,p.tag){case 0:case 11:case 14:case 15:yr(4,p,p.return);break;case 1:Cn(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){se(r,n,j)}}break;case 5:Cn(p,p.return);break;case 22:if(p.memoizedState!==null){gu(h);continue}}v!==null?(v.return=p,L=v):gu(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=_c("display",o))}catch(j){se(e,e.return,j)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(j){se(e,e.return,j)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ve(t,e),Ze(e),r&4&&pu(e);break;case 21:break;default:Ve(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Kd(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(jr(s,""),r.flags&=-33);var i=fu(e);Jo(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=fu(e);Go(e,l,o);break;default:throw Error(T(161))}}catch(a){se(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gp(e,t,n){L=e,Jd(e)}function Jd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ve;l=cs;var c=ve;if(cs=o,(ve=a)&&!c)for(L=s;L!==null;)o=L,a=o.child,o.tag===22&&o.memoizedState!==null?yu(s):a!==null?(a.return=o,L=a):yu(s);for(;i!==null;)L=i,Jd(i),i=i.sibling;L=s,cs=l,ve=c}mu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):mu(e)}}function mu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||hi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Za(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Za(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Tr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}ve||t.flags&512&&qo(t)}catch(p){se(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function gu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function yu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hi(4,t)}catch(a){se(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(a){se(t,s,a)}}var i=t.return;try{qo(t)}catch(a){se(t,i,a)}break;case 5:var o=t.return;try{qo(t)}catch(a){se(t,o,a)}}}catch(a){se(t,t.return,a)}if(t===e){L=null;break}var l=t.sibling;if(l!==null){l.return=t.return,L=l;break}L=t.return}}var Jp=Math.ceil,Js=gt.ReactCurrentDispatcher,Xl=gt.ReactCurrentOwner,De=gt.ReactCurrentBatchConfig,F=0,he=null,oe=null,pe=0,Ae=0,Pn=zt(0),ce=0,Mr=null,sn=0,fi=0,Yl=0,vr=null,be=null,Zl=0,Wn=1/0,ot=null,Qs=!1,Qo=null,Ot=null,ds=!1,Nt=null,Xs=0,wr=0,Xo=null,Ns=-1,Es=0;function xe(){return F&6?ie():Ns!==-1?Ns:Ns=ie()}function Rt(e){return e.mode&1?F&2&&pe!==0?pe&-pe:Op.transition!==null?(Es===0&&(Es=Rc()),Es):(e=V,e!==0||(e=window.event,e=e===void 0?16:Dc(e.type)),e):1}function Xe(e,t,n,r){if(50<wr)throw wr=0,Xo=null,Error(T(185));Fr(e,n,r),(!(F&2)||e!==he)&&(e===he&&(!(F&2)&&(fi|=n),ce===4&&St(e,pe)),Pe(e,r),n===1&&F===0&&!(t.mode&1)&&(Wn=ie()+500,ui&&Mt()))}function Pe(e,t){var n=e.callbackNode;Of(e,t);var r=Ls(e,e===he?pe:0);if(r===0)n!==null&&Na(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Na(n),t===1)e.tag===0?Ap(vu.bind(null,e)):id(vu.bind(null,e)),Ep(function(){!(F&6)&&Mt()}),n=null;else{switch(Lc(r)){case 1:n=bl;break;case 4:n=Ac;break;case 16:n=Rs;break;case 536870912:n=Oc;break;default:n=Rs}n=rh(n,Qd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qd(e,t){if(Ns=-1,Es=0,F&6)throw Error(T(327));var n=e.callbackNode;if($n()&&e.callbackNode!==n)return null;var r=Ls(e,e===he?pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ys(e,r);else{t=r;var s=F;F|=2;var i=Yd();(he!==e||pe!==t)&&(ot=null,Wn=ie()+500,Zt(e,t));do try{Yp();break}catch(l){Xd(e,l)}while(1);zl(),Js.current=i,F=s,oe!==null?t=0:(he=null,pe=0,t=ce)}if(t!==0){if(t===2&&(s=jo(e),s!==0&&(r=s,t=Yo(e,s))),t===1)throw n=Mr,Zt(e,0),St(e,r),Pe(e,ie()),n;if(t===6)St(e,r);else{if(s=e.current.alternate,!(r&30)&&!Qp(s)&&(t=Ys(e,r),t===2&&(i=jo(e),i!==0&&(r=i,t=Yo(e,i))),t===1))throw n=Mr,Zt(e,0),St(e,r),Pe(e,ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:qt(e,be,ot);break;case 3:if(St(e,r),(r&130023424)===r&&(t=Zl+500-ie(),10<t)){if(Ls(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Oo(qt.bind(null,e,be,ot),t);break}qt(e,be,ot);break;case 4:if(St(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Qe(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jp(r/1960))-r,10<r){e.timeoutHandle=Oo(qt.bind(null,e,be,ot),r);break}qt(e,be,ot);break;case 5:qt(e,be,ot);break;default:throw Error(T(329))}}}return Pe(e,ie()),e.callbackNode===n?Qd.bind(null,e):null}function Yo(e,t){var n=vr;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=Ys(e,t),e!==2&&(t=be,be=n,t!==null&&Zo(t)),e}function Zo(e){be===null?be=e:be.push.apply(be,e)}function Qp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~Yl,t&=~fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qe(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if(F&6)throw Error(T(327));$n();var t=Ls(e,0);if(!(t&1))return Pe(e,ie()),null;var n=Ys(e,t);if(e.tag!==0&&n===2){var r=jo(e);r!==0&&(t=r,n=Yo(e,r))}if(n===1)throw n=Mr,Zt(e,0),St(e,t),Pe(e,ie()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qt(e,be,ot),Pe(e,ie()),null}function ea(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(Wn=ie()+500,ui&&Mt())}}function on(e){Nt!==null&&Nt.tag===0&&!(F&6)&&$n();var t=F;F|=1;var n=De.transition,r=V;try{if(De.transition=null,V=1,e)return e()}finally{V=r,De.transition=n,F=t,!(F&6)&&Mt()}}function ta(){Ae=Pn.current,X(Pn)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Np(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Il(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ms();break;case 3:Bn(),X(Te),X(we),Vl();break;case 5:Wl(r);break;case 4:Bn();break;case 13:X(ee);break;case 19:X(ee);break;case 10:Ml(r.type._context);break;case 22:case 23:ta()}n=n.return}if(he=e,oe=e=Lt(e.current,null),pe=Ae=t,ce=0,Mr=null,Yl=fi=sn=0,be=vr=null,Xt!==null){for(t=0;t<Xt.length;t++)if(n=Xt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Xt=null}return e}function Xd(e,t){do{var n=oe;try{if(zl(),Ss.current=Gs,qs){for(var r=te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qs=!1}if(rn=0,de=ue=te=null,gr=!1,$r=0,Xl.current=null,n===null||n.return===null){ce=1,Mr=t,oe=null;break}e:{var i=e,o=n.return,l=n,a=t;if(t=pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=iu(o);if(v!==null){v.flags&=-257,ou(v,o,l,i,t),v.mode&1&&su(i,c,t),t=v,a=c;var y=t.updateQueue;if(y===null){var j=new Set;j.add(a),t.updateQueue=j}else y.add(a);break e}else{if(!(t&1)){su(i,c,t),na();break e}a=Error(T(426))}}else if(Y&&l.mode&1){var C=iu(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ou(C,o,l,i,t),$l(Fn(a,l));break e}}i=a=Fn(a,l),ce!==4&&(ce=2),vr===null?vr=[i]:vr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Ld(i,a,t);Ya(i,m);break e;case 1:l=a;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ot===null||!Ot.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Id(i,l,t);Ya(i,_);break e}}i=i.return}while(i!==null)}eh(n)}catch(x){t=x,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(1)}function Yd(){var e=Js.current;return Js.current=Gs,e===null?Gs:e}function na(){(ce===0||ce===3||ce===2)&&(ce=4),he===null||!(sn&268435455)&&!(fi&268435455)||St(he,pe)}function Ys(e,t){var n=F;F|=2;var r=Yd();(he!==e||pe!==t)&&(ot=null,Zt(e,t));do try{Xp();break}catch(s){Xd(e,s)}while(1);if(zl(),F=n,Js.current=r,oe!==null)throw Error(T(261));return he=null,pe=0,ce}function Xp(){for(;oe!==null;)Zd(oe)}function Yp(){for(;oe!==null&&!Sf();)Zd(oe)}function Zd(e){var t=nh(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?eh(e):oe=t,Xl.current=null}function eh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hp(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ce=6,oe=null;return}}else if(n=Vp(n,t,Ae),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ce===0&&(ce=5)}function qt(e,t,n){var r=V,s=De.transition;try{De.transition=null,V=1,Zp(e,t,n,r)}finally{De.transition=s,V=r}return null}function Zp(e,t,n,r){do $n();while(Nt!==null);if(F&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rf(e,i),e===he&&(oe=he=null,pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ds||(ds=!0,rh(Rs,function(){return $n(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=V;V=1;var l=F;F|=4,Xl.current=null,qp(e,n),Gd(n,e),wp(Po),Is=!!Co,Po=Co=null,e.current=n,Gp(n),jf(),F=l,V=o,De.transition=i}else e.current=n;if(ds&&(ds=!1,Nt=e,Xs=s),i=e.pendingLanes,i===0&&(Ot=null),Ef(n.stateNode),Pe(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qs)throw Qs=!1,e=Qo,Qo=null,e;return Xs&1&&e.tag!==0&&$n(),i=e.pendingLanes,i&1?e===Xo?wr++:(wr=0,Xo=e):wr=0,Mt(),null}function $n(){if(Nt!==null){var e=Lc(Xs),t=De.transition,n=V;try{if(De.transition=null,V=16>e?16:e,Nt===null)var r=!1;else{if(e=Nt,Nt=null,Xs=0,F&6)throw Error(T(331));var s=F;for(F|=4,L=e.current;L!==null;){var i=L,o=i.child;if(L.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(L=c;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:yr(8,d,i)}var h=d.child;if(h!==null)h.return=d,L=h;else for(;L!==null;){d=L;var p=d.sibling,v=d.return;if(Hd(d),d===c){L=null;break}if(p!==null){p.return=v,L=p;break}L=v}}}var y=i.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var C=j.sibling;j.sibling=null,j=C}while(j!==null)}}L=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,L=o;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,L=m;break e}L=i.return}}var f=e.current;for(L=f;L!==null;){o=L;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,L=g;else e:for(o=f;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hi(9,l)}}catch(x){se(l,l.return,x)}if(l===o){L=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,L=_;break e}L=l.return}}if(F=s,Mt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(si,e)}catch{}r=!0}return r}finally{V=n,De.transition=t}}return!1}function wu(e,t,n){t=Fn(n,t),t=Ld(e,t,1),e=At(e,t,1),t=xe(),e!==null&&(Fr(e,1,t),Pe(e,t))}function se(e,t,n){if(e.tag===3)wu(e,e,n);else for(;t!==null;){if(t.tag===3){wu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ot===null||!Ot.has(r))){e=Fn(n,e),e=Id(t,e,1),t=At(t,e,1),e=xe(),t!==null&&(Fr(t,1,e),Pe(t,e));break}}t=t.return}}function em(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(pe&n)===n&&(ce===4||ce===3&&(pe&130023424)===pe&&500>ie()-Zl?Zt(e,0):Yl|=n),Pe(e,t)}function th(e,t){t===0&&(e.mode&1?(t=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):t=1);var n=xe();e=pt(e,t),e!==null&&(Fr(e,t,n),Pe(e,n))}function tm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),th(e,n)}function nm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),th(e,n)}var nh;nh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ee=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ee=!1,Wp(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,Y&&t.flags&1048576&&od(t,Fs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bs(e,t),e=t.pendingProps;var s=zn(t,we.current);In(t,n),s=Kl(null,t,r,e,s,n);var i=ql();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(r)?(i=!0,Ds(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bl(t),s.updater=di,t.stateNode=s,s._reactInternals=t,Mo(t,r,e,n),t=Fo(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&Ll(t),ke(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=sm(r),e=Ke(r,e),s){case 0:t=Bo(null,t,r,e,n);break e;case 1:t=uu(null,t,r,e,n);break e;case 11:t=lu(null,t,r,e,n);break e;case 14:t=au(null,t,r,Ke(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),Bo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),uu(e,t,r,s,n);case 3:e:{if(Md(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,s=i.element,hd(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fn(Error(T(423)),t),t=cu(e,t,r,n,s);break e}else if(r!==s){s=Fn(Error(T(424)),t),t=cu(e,t,r,n,s);break e}else for(Oe=Pt(t.stateNode.containerInfo.firstChild),Re=t,Y=!0,Je=null,n=cd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),r===s){t=mt(e,t,n);break e}ke(e,t,r,n)}t=t.child}return t;case 5:return fd(t),e===null&&$o(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ao(r,s)?o=null:i!==null&&Ao(r,i)&&(t.flags|=32),zd(e,t),ke(e,t,o,n),t.child;case 6:return e===null&&$o(t),null;case 13:return Dd(e,t,n);case 4:return Fl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dn(t,null,r,n):ke(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),lu(e,t,r,s,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,J(Ws,r._currentValue),r._currentValue=o,i!==null)if(Ye(i.value,o)){if(i.children===s.children&&!Te.current){t=mt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=dt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Uo(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,In(t,n),s=Fe(s),r=r(s),t.flags|=1,ke(e,t,r,n),t.child;case 14:return r=t.type,s=Ke(r,t.pendingProps),s=Ke(r.type,s),au(e,t,r,s,n);case 15:return $d(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ke(r,s),bs(e,t),t.tag=1,Ce(r)?(e=!0,Ds(t)):e=!1,In(t,n),Rd(t,r,s),Mo(t,r,s,n),Fo(null,t,r,!0,e,n);case 19:return Bd(e,t,n);case 22:return Ud(e,t,n)}throw Error(T(156,t.tag))};function rh(e,t){return Pc(e,t)}function rm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(e,t,n,r){return new rm(e,t,n,r)}function ra(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sm(e){if(typeof e=="function")return ra(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xl)return 11;if(e===Sl)return 14}return 2}function Lt(e,t){var n=e.alternate;return n===null?(n=Me(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ts(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")ra(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _n:return en(n.children,s,i,t);case kl:o=8,s|=8;break;case ao:return e=Me(12,n,t,s|2),e.elementType=ao,e.lanes=i,e;case uo:return e=Me(13,n,t,s),e.elementType=uo,e.lanes=i,e;case co:return e=Me(19,n,t,s),e.elementType=co,e.lanes=i,e;case fc:return pi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dc:o=10;break e;case hc:o=9;break e;case xl:o=11;break e;case Sl:o=14;break e;case _t:o=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Me(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function en(e,t,n,r){return e=Me(7,e,r,t),e.lanes=n,e}function pi(e,t,n,r){return e=Me(22,e,r,t),e.elementType=fc,e.lanes=n,e.stateNode={isHidden:!1},e}function Ji(e,t,n){return e=Me(6,e,null,t),e.lanes=n,e}function Qi(e,t,n){return t=Me(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function im(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sa(e,t,n,r,s,i,o,l,a){return e=new im(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Me(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(i),e}function om(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sh(e){if(!e)return $t;e=e._reactInternals;e:{if(an(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ce(n))return sd(e,n,t)}return t}function ih(e,t,n,r,s,i,o,l,a){return e=sa(n,r,!0,e,s,i,o,l,a),e.context=sh(null),n=e.current,r=xe(),s=Rt(n),i=dt(r,s),i.callback=t??null,At(n,i,s),e.current.lanes=s,Fr(e,s,r),Pe(e,r),e}function mi(e,t,n,r){var s=t.current,i=xe(),o=Rt(s);return n=sh(n),t.context===null?t.context=n:t.pendingContext=n,t=dt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=At(s,t,o),e!==null&&(Xe(e,s,o,i),xs(e,s,o)),o}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ia(e,t){_u(e,t),(e=e.alternate)&&_u(e,t)}function lm(){return null}var oh=typeof reportError=="function"?reportError:function(e){console.error(e)};function oa(e){this._internalRoot=e}gi.prototype.render=oa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));mi(e,t,null,null)};gi.prototype.unmount=oa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){mi(null,e,null,null)}),t[ft]=null}};function gi(e){this._internalRoot=e}gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xt.length&&t!==0&&t<xt[n].priority;n++);xt.splice(n,0,e),n===0&&Mc(e)}};function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ku(){}function am(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Zs(o);i.call(c)}}var o=ih(t,r,e,0,null,!1,!1,"",ku);return e._reactRootContainer=o,e[ft]=o.current,Ar(e.nodeType===8?e.parentNode:e),on(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Zs(a);l.call(c)}}var a=sa(e,0,!1,null,null,!1,!1,"",ku);return e._reactRootContainer=a,e[ft]=a.current,Ar(e.nodeType===8?e.parentNode:e),on(function(){mi(t,a,n,r)}),a}function vi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Zs(o);l.call(a)}}mi(t,o,e,s)}else o=am(n,t,e,s,r);return Zs(o)}Ic=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(Nl(t,n|1),Pe(t,ie()),!(F&6)&&(Wn=ie()+500,Mt()))}break;case 13:on(function(){var r=pt(e,1);if(r!==null){var s=xe();Xe(r,e,1,s)}}),ia(e,1)}};El=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var n=xe();Xe(t,e,134217728,n)}ia(e,134217728)}};$c=function(e){if(e.tag===13){var t=Rt(e),n=pt(e,t);if(n!==null){var r=xe();Xe(n,e,t,r)}ia(e,t)}};Uc=function(){return V};zc=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};ko=function(e,t,n){switch(t){case"input":if(po(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ai(r);if(!s)throw Error(T(90));mc(r),po(r,s)}}}break;case"textarea":yc(e,n);break;case"select":t=n.value,t!=null&&An(e,!!n.multiple,t,!1)}};jc=ea;bc=on;var um={usingClientEntryPoint:!1,Events:[Vr,jn,ai,xc,Sc,ea]},rr={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cm={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tc(e),e===null?null:e.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||lm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{si=hs.inject(cm),rt=hs}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=um;Ie.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!la(t))throw Error(T(200));return om(e,t,null,n)};Ie.createRoot=function(e,t){if(!la(e))throw Error(T(299));var n=!1,r="",s=oh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sa(e,1,!1,null,null,n,!1,r,s),e[ft]=t.current,Ar(e.nodeType===8?e.parentNode:e),new oa(t)};Ie.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Tc(t),e=e===null?null:e.stateNode,e};Ie.flushSync=function(e){return on(e)};Ie.hydrate=function(e,t,n){if(!yi(t))throw Error(T(200));return vi(null,e,t,!0,n)};Ie.hydrateRoot=function(e,t,n){if(!la(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=oh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ih(t,null,e,1,n??null,s,!1,i,o),e[ft]=t.current,Ar(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new gi(t)};Ie.render=function(e,t,n){if(!yi(t))throw Error(T(200));return vi(null,e,t,!1,n)};Ie.unmountComponentAtNode=function(e){if(!yi(e))throw Error(T(40));return e._reactRootContainer?(on(function(){vi(null,null,e,!1,function(){e._reactRootContainer=null,e[ft]=null})}),!0):!1};Ie.unstable_batchedUpdates=ea;Ie.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yi(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return vi(e,t,n,!1,r)};Ie.version="18.3.1-next-f1338f8080-20240426";function lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lh)}catch(e){console.error(e)}}lh(),lc.exports=Ie;var dm=lc.exports,xu=dm;oo.createRoot=xu.createRoot,oo.hydrateRoot=xu.hydrateRoot;const hm="modulepreload",fm=function(e){return"/"+e},Su={},Kr=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=fm(i),i in Su)return;Su[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":hm,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},pm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Kr(()=>Promise.resolve().then(()=>Gn),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class aa extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class mm extends aa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ju extends aa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bu extends aa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var el;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(el||(el={}));var gm=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class ym{constructor(t,{headers:n={},customFetch:r,region:s=el.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=pm(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return gm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const c=new URL(`${this.url}/${t}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(j=>{throw new mm(j)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new ju(h);if(!h.ok)throw new bu(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof bu||s instanceof ju?s.context:void 0}}})}}var Ne={},ua={},wi={},qr={},_i={},ki={},vm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vn=vm();const wm=Vn.fetch,ah=Vn.fetch.bind(Vn),uh=Vn.Headers,_m=Vn.Request,km=Vn.Response,Gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:uh,Request:_m,Response:km,default:ah,fetch:wm},Symbol.toStringTag,{value:"Module"})),xm=Uh(Gn);var xi={};Object.defineProperty(xi,"__esModule",{value:!0});let Sm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};xi.default=Sm;var ch=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ki,"__esModule",{value:!0});const jm=ch(xm),bm=ch(xi);let Nm=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=jm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,c;let d=null,h=null,p=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const C=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),m=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&m&&m.length>1&&(p=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const C=await i.text();try{d=JSON.parse(C),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&C===""?(v=204,y="No Content"):d={message:C}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new bm.default(d)}return{error:d,data:h,count:p,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ki.default=Nm;var Em=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});const Tm=Em(ki);let Cm=class extends Tm.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};_i.default=Cm;var Pm=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qr,"__esModule",{value:!0});const Am=Pm(_i);let Om=class extends Am.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};qr.default=Om;var Rm=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wi,"__esModule",{value:!0});const sr=Rm(qr);let Lm=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new sr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new sr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new sr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};wi.default=Lm;var dh=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ua,"__esModule",{value:!0});const Im=dh(wi),$m=dh(qr);let Um=class hh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Im.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${t}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{a.searchParams.append(h,p)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new $m.default({method:l,url:a,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ua.default=Um;var Jn=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const fh=Jn(ua);Ne.PostgrestClient=fh.default;const ph=Jn(wi);Ne.PostgrestQueryBuilder=ph.default;const mh=Jn(qr);Ne.PostgrestFilterBuilder=mh.default;const gh=Jn(_i);Ne.PostgrestTransformBuilder=gh.default;const yh=Jn(ki);Ne.PostgrestBuilder=yh.default;const vh=Jn(xi);Ne.PostgrestError=vh.default;var zm=Ne.default={PostgrestClient:fh.default,PostgrestQueryBuilder:ph.default,PostgrestFilterBuilder:mh.default,PostgrestTransformBuilder:gh.default,PostgrestBuilder:yh.default,PostgrestError:vh.default};const{PostgrestClient:Mm,PostgrestQueryBuilder:gv,PostgrestFilterBuilder:yv,PostgrestTransformBuilder:vv,PostgrestBuilder:wv,PostgrestError:_v}=zm;class Dm{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Bm="2.15.1",Fm=`realtime-js/${Bm}`,Wm="1.0.0",tl=1e4,Vm=1e3,Hm=100;var _r;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_r||(_r={}));var le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(le||(le={}));var Ge;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ge||(Ge={}));var nl;(function(e){e.websocket="websocket"})(nl||(nl={}));var Jt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jt||(Jt={}));class Km{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const a=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class wh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(G||(G={}));const Nu=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=qm(o,e,t,s),i),{})},qm=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?_h(i,o):rl(o)},_h=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Xm(t,n)}switch(e){case G.bool:return Gm(t);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return Jm(t);case G.json:case G.jsonb:return Qm(t);case G.timestamp:return Ym(t);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return rl(t);default:return rl(t)}},rl=e=>e,Gm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Xm=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>_h(t,l))}return e},Ym=e=>typeof e=="string"?e.replace(" ","T"):e,kh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xi{constructor(t,n,r={},s=tl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Eu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Eu||(Eu={}));class kr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=kr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(C=>C.presence_ref),v=h.map(C=>C.presence_ref),y=d.filter(C=>v.indexOf(C.presence_ref)<0),j=h.filter(C=>p.indexOf(C.presence_ref)<0);y.length>0&&(l[c]=y),j.length>0&&(a[c]=j)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),d.length>0){const h=t[l].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);t[l].unshift(...p)}r(l,d,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,a),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Tu||(Tu={}));var xr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xr||(xr={}));var lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class ca{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xi(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new kr(this),this.broadcastEndpointURL=kh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,a=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[xr.PRESENCE]&&this.bindings[xr.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:a,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(lt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(lt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(lt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,j=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,C=[];for(let m=0;m<j;m++){const f=y[m],{filter:{event:g,schema:_,table:x,filter:N}}=f,b=p&&p[m];if(b&&b.event===g&&b.schema===_&&b.table===x&&b.filter===N)C.push(Object.assign(Object.assign({},f),{id:b.id}));else{this.unsubscribe(),this.state=le.errored,t==null||t(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(lt.SUBSCRIBED);return}}).receive("error",p=>{this.state=le.errored,t==null||t(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===le.joined&&t===xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Xi(this,Ge.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Xi(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=Ge;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,j,C;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(j=v.filter)===null||j===void 0?void 0:j.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(v=>v.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,j,C,m,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,x=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((j=n.ids)===null||j===void 0?void 0:j.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const _=(f=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:j,table:C,commit_timestamp:m,type:f,errors:g}=y;p=Object.assign(Object.assign({},{schema:j,table:C,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(p,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ca.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ge.close,{},t)}_onError(t){this._on(Ge.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Nu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Nu(t.columns,t.old_record)),n}}const Cu=()=>{},fs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zm=[1e3,2e3,5e3,1e4],eg=1e4,tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ng{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tl,this.transport=null,this.heartbeatIntervalMs=fs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cu,this.ref=0,this.reconnectTimer=null,this.logger=Cu,this.conn=null,this.sendBuffer=[],this.serializer=new Km,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Kr(()=>Promise.resolve().then(()=>Gn),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${nl.websocket}`,this.httpEndpoint=kh(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wm}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return Jt.Connecting;case _r.open:return Jt.Open;case _r.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ca(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Vm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ge.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([tg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Fm};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,a,c;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:tl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>Zm[d-1]||eg,this.encode=(a=t==null?void 0:t.encode)!==null&&a!==void 0?a:(d,h)=>h(JSON.stringify(d)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class da extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rg extends da{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sl extends da{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var sg=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const xh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Kr(()=>Promise.resolve().then(()=>Gn),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ig=()=>sg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kr(()=>Promise.resolve().then(()=>Gn),void 0)).Response:Response}),il=e=>{if(Array.isArray(e))return e.map(n=>il(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=il(r)}),t},og=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var un=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Yi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lg=(e,t,n)=>un(void 0,void 0,void 0,function*(){const r=yield ig();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new rg(Yi(s),i,o))}).catch(s=>{t(new sl(Yi(s),s))}):t(new sl(Yi(e),e))}),ag=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(og(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Gr(e,t,n,r,s,i){return un(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,ag(t,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>lg(a,l,r))})})}function ei(e,t,n,r){return un(this,void 0,void 0,function*(){return Gr(e,"GET",t,n,r)})}function tt(e,t,n,r,s){return un(this,void 0,void 0,function*(){return Gr(e,"POST",t,r,s,n)})}function ol(e,t,n,r,s){return un(this,void 0,void 0,function*(){return Gr(e,"PUT",t,r,s,n)})}function ug(e,t,n,r){return un(this,void 0,void 0,function*(){return Gr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Sh(e,t,n,r,s){return un(this,void 0,void 0,function*(){return Gr(e,"DELETE",t,r,s,n)})}var _e=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const cg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dg{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=xh(s)}uploadOrUpdate(t,n,r,s){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Pu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(t=="PUT"?ol:tt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Pu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield ol(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield tt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new da("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}update(t,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(t,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return _e(this,void 0,void 0,function*(){try{const s=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(t,n){return _e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ei(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}info(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ei(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:il(r),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}exists(t){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ug(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ae(r)&&r instanceof sl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}list(t,n,r){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},cg),n),{prefix:t||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}listV2(t,n){return _e(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hg="2.11.0",fg={"X-Client-Info":`storage-js/${hg}`};var hn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class pg{constructor(t,n={},r,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},fg),n),this.fetch=xh(r)}listBuckets(){return hn(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}getBucket(t){return hn(this,void 0,void 0,function*(){try{return{data:yield ei(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return hn(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return hn(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return hn(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return hn(this,void 0,void 0,function*(){try{return{data:yield Sh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}}class mg extends pg{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new dg(this.url,this.headers,t,this.fetch)}}const gg="2.56.0";let cr="";typeof Deno<"u"?cr="deno":typeof document<"u"?cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cr="react-native":cr="node";const yg={"X-Client-Info":`supabase-js-${cr}/${gg}`},vg={headers:yg},wg={schema:"public"},_g={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kg={};var xg=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};const Sg=e=>{let t;return e?t=e:typeof fetch>"u"?t=ah:t=fetch,(...n)=>t(...n)},jg=()=>typeof Headers>"u"?uh:Headers,bg=(e,t,n)=>{const r=Sg(n),s=jg();return(i,o)=>xg(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Ng=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};function Eg(e){return e.endsWith("/")?e:e+"/"}function Tg(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:a,auth:c,realtime:d,global:h}=t,p={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ng(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const jh="2.71.1",yn=30*1e3,ll=3,Zi=ll*yn,Cg="http://localhost:9999",Pg="supabase.auth.token",Ag={"X-Client-Info":`gotrue-js/${jh}`},al="X-Supabase-Api-Version",bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Og=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rg=10*60*1e3;class ha extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Lg extends ha{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ig(e){return M(e)&&e.name==="AuthApiError"}class Nh extends ha{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Dt extends ha{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class wt extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $g(e){return M(e)&&e.name==="AuthSessionMissingError"}class ps extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ms extends Dt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gs extends Dt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ug(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class Au extends Dt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ul extends Dt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function eo(e){return M(e)&&e.name==="AuthRetryableFetchError"}class Ou extends Dt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class cl extends Dt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ru=` 	
\r=`.split(""),zg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ru.length;t+=1)e[Ru[t].charCodeAt(0)]=-2;for(let t=0;t<ti.length;t+=1)e[ti[t].charCodeAt(0)]=t;return e})();function Lu(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ti[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ti[r]),t.queuedBits-=6}}function Eh(e,t,n){const r=zg[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Iu(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Bg(o,r,n)};for(let o=0;o<e.length;o+=1)Eh(e.charCodeAt(o),s,i);return t.join("")}function Mg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Dg(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Mg(r,t)}}function Bg(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Fg(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Eh(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Wg(e){const t=[];return Dg(e,n=>t.push(n)),new Uint8Array(t)}function Vg(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Lu(s,n,r)),Lu(null,n,r),t.join("")}function Hg(e){return Math.round(Date.now()/1e3)+e}function Kg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",Vt={tested:!1,writable:!1},Th=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vt.tested)return Vt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vt.tested=!0,Vt.writable=!0}catch{Vt.tested=!0,Vt.writable=!1}return Vt.writable};function qg(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Ch=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Kr(()=>Promise.resolve().then(()=>Gn),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Gg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ht=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vt=async(e,t)=>{await e.removeItem(t)};class Si{constructor(){this.promise=new Si.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Si.promiseConstructor=Promise;function to(e){const t=e.split(".");if(t.length!==3)throw new cl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Og.test(t[r]))throw new cl("JWT not in base64url format");return{header:JSON.parse(Iu(t[0])),payload:JSON.parse(Iu(t[1])),signature:Fg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qg(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Xg(e){return("0"+e.toString(16)).substr(-2)}function Yg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Xg).join("")}async function Zg(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ey(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Zg(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fn(e,t,n=!1){const r=Yg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await vn(e,`${t}-code-verifier`,s);const i=await ey(r);return[i,r===i?"plain":"s256"]}const ty=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ny(e){const t=e.headers.get(al);if(!t||!t.match(ty))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ry(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pn(e){if(!iy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function no(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $u(e){return JSON.parse(JSON.stringify(e))}var oy=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Gt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ly=[502,503,504];async function Uu(e){var t;if(!Gg(e))throw new ul(Gt(e),0);if(ly.includes(e.status))throw new ul(Gt(e),e.status);let n;try{n=await e.json()}catch(i){throw new Nh(Gt(i),i)}let r;const s=ny(e);if(s&&s.getTime()>=bh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ou(Gt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new wt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ou(Gt(n),e.status,n.weak_password.reasons);throw new Lg(Gt(n),e.status||500,r)}const ay=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function D(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[al]||(i[al]=bh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await uy(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function uy(e,t,n,r,s,i){const o=ay(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(a){throw console.error(a),new ul(Gt(a),0)}if(l.ok||await Uu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Uu(a)}}function it(e){var t;let n=null;fy(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Hg(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zu(e){const t=it(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cy(e){return{data:e,error:null}}function dy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=oy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function hy(e){return e}function fy(e){return e.access_token&&e.refresh_token&&e.expires_in}const ro=["global","local","others"];var py=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class my{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ch(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=ro[0]){if(ro.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ro.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=py(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:dy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:hy});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const j=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);c[`${C}Page`]=j}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){pn(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){pn(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:jt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){pn(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:jt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){pn(t.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteFactor(t){pn(t.userId),pn(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}function Mu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function gy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mn={debug:!!(globalThis&&Th()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ph extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yy extends Ph{}async function vy(e,t,n){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gy();const wy={url:Cg,storageKey:Pg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ag,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Du(e,t,n){return await n()}const gn={};class Dr{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dr.nextInstanceID,Dr.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new my({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ch(s.fetch),this.lock=s.lock||Du,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:He()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vy:this.lock=Du,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Th()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=gn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=gn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gn[this.storageKey]=Object.assign(Object.assign({},gn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=qg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),He()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ug(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return M(n)?{error:n}:{error:new Nh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:it}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await fn(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:it})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:it})}else throw new ms("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zu})}else throw new ms("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ps}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,l,a,c,d,h,p,v;let y,j;if("message"in t)y=t.message,j=t.signature;else{const{chain:C,wallet:m,statement:f,options:g}=t;let _;if(He())if(typeof m=="object")_=m;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let b;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")b=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)b=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),j=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=N}}try{const{data:C,error:m}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Vg(j)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:it});if(m)throw m;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ps}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:m})}catch(C){if(M(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:it});if(await vt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ps}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:it}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ps}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await fn(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ms("You must provide either an email or phone number.")}catch(l){if(M(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:it});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await fn(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:cy})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new wt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ms("You must provide either an email or phone number and a type")}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zi:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ht(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=no()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:jt})})}catch(n){if(M(n))return $g(n)&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new wt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await fn(this.storage,this.storageKey));const{data:c,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:jt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=to(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(M(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new wt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!He())throw new gs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Au("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Au("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=t;if(!i||!l||!o||!c)throw new gs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;a&&(p=parseInt(a));const v=p-d;v*1e3<=yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:j,error:C}=await this._getUser(i);if(C)throw C;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ig(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Kg(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await fn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return He()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Qg(async s=>(s>0&&await Jg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:it})),(s,i)=>{const o=200*Math.pow(2,s);return i&&eo(i)&&Date.now()+o-r<yn})}catch(r){if(this._debug(n,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),He()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ht(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ht(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await vn(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:no()}else if(s&&!s.user&&!s.user){const o=await Ht(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await vt(this.storage,this.storageKey+"-user"),await vn(this.storage,this.storageKey,s)):s.user=no()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zi;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),eo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Si;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),M(i)){const o={session:null,error:i};return eo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await vn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=$u(s);await vn(this.storage,this.storageKey,i)}else{const s=$u(n);await vn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await vt(this.storage,this.storageKey),await vt(this.storage,this.storageKey+"-code-verifier"),await vt(this.storage,this.storageKey+"-user"),this.userStorage&&await vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yn}ms, refresh threshold is ${ll} ticks`),s<=ll&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ph)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await fn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=to(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Rg>s)return r;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=to(r);n!=null&&n.allowExpired||ry(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=sy(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Wg(`${l}.${a}`)))throw new cl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}Dr.nextInstanceID=0;const _y=Dr;class ky extends _y{constructor(t){super(t)}}var xy=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(e,t||[])).next())})};class Sy{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Eg(t),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:wg,realtime:kg,auth:Object.assign(Object.assign({},_g),{storageKey:c}),global:vg},h=Tg(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=bg(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Mm(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new mg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new ym(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return xy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ky({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ng(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jy=(e,t,n)=>new Sy(e,t,n);function by(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}by()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ny="https://harafuvcikthyxufgkfa.supabase.co",Ey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhcmFmdXZjaWt0aHl4dWZna2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODAxMDEsImV4cCI6MjA3MTU1NjEwMX0.i5OSHjVR38mlve7dP0ceXbKaG1ic501Mb3toOPnjUj4",re=jy(Ny,Ey),Bu={theme:"light",language:"nl",autoLogout:!1,autoLogoutTime:15,pushNotifications:!1,deadlineWarnings:!1,deadlineWarningDays:3,taskReminders:!1,dailyReports:!1,weeklyReports:!1,autoArchive:!1,archiveDays:30,allowTaskDeletion:!0,requireTaskApproval:!1,maxTasksPerUser:10};function Fu(e){try{if(!e)return null;const t=`praxis:userTheme:${e}`,n=localStorage.getItem(t);return n==="light"||n==="dark"||n==="auto"?n:null}catch{return null}}function Ty(e,t){try{if(!e)return;const n=`praxis:userTheme:${e}`;localStorage.setItem(n,t)}catch{}}const Cy={loginToAccount:"Log in op je account",employeeNumber:"Personeelsnummer",password:"Wachtwoord",login:"Inloggen",loading:"Bezig...",loginError:"Er ging iets mis bij het inloggen",passwordsNotMatch:"Wachtwoorden komen niet overeen",passwordTooShort:"Wachtwoord is te kort",settings:"Instellingen",userManagement:"Gebruikersbeheer",personalSettings:"Persoonlijke instellingen",systemSettings:"Systeeminstellingen",tasks:"Taken",users:"Gebruikers",newTask:"Nieuwe taak",create:"Aanmaken",save:"Opslaan",cancel:"Annuleren",close:"Sluiten",confirm:"Bevestigen",yes:"Ja",delete:"Verwijderen",edit:"Bewerken",title:"Titel",description:"Beschrijving",priority:"Prioriteit",assignedTo:"Toewijzen aan",deadline:"Deadline",statusTodo:"Te Doen",statusNeedsPickup:"Taak oppakken",statusInProgress:"Mee Bezig",statusCompleted:"Afgerond",manager:"Manager",employee:"Medewerker",role:"Rol",name:"Naam",departments:"Afdeling",voorwinkel:"Voorwinkel",achterwinkel:"Achterwinkel",newUser:"Nieuwe gebruiker",userCreated:"Gebruiker aangemaakt",temporaryCode:"Tijdelijke code",firstLogin:"Eerste login",low:"Laag",medium:"Gemiddeld",high:"Hoog",theme:"Thema",language:"Taal",sound:"Geluid",light:"Licht",dark:"Donker",auto:"Auto",autoLogout:"Automatisch uitloggen",autoLogoutTime:"Tijd tot automatisch uitloggen (min.)",pushNotifications:"Push notificaties",deadlineWarnings:"Deadline waarschuwingen",days:"dagen",taskReminders:"Taakherinneringen",dailyReport:"Dagrapport",weeklyReport:"Weekrapport",totalTasks:"Totaal taken",completed:"Afgerond",overdueTasks:"Verlopen taken",activeUsers:"Actieve gebruikers",start:"Starten",pause:"Pauzeren",pickup:"Oppakken",complete:"Afronden",welcome:"Welkom",loginSuccess:"Succesvol ingelogd",copyCode:"Kopieer code",copied:"Gekopieerd!"},Ah=z.createContext(void 0),Py=()=>crypto.randomUUID(),so=e=>({id:String((e==null?void 0:e.id)??Py()),title:String((e==null?void 0:e.title)??""),status:(()=>{const t=String((e==null?void 0:e.status)??"todo").toLowerCase();return t==="inprogress"?"in-progress":t==="done"?"completed":t==="needs-pickup"||t==="needs_pickup"?"needs-pickup":t==="in-progress"?"in-progress":t==="completed"?"completed":"todo"})(),createdAt:String((e==null?void 0:e.created_at)??(e==null?void 0:e.createdAt)??new Date().toISOString()),updatedAt:String((e==null?void 0:e.updated_at)??(e==null?void 0:e.updatedAt)??new Date().toISOString()),description:typeof(e==null?void 0:e.description)=="string"?e.description:"",priority:["low","medium","high"].includes(String(e==null?void 0:e.priority))?e.priority:"medium",assignedTo:typeof(e==null?void 0:e.assigned_to)=="string"?e.assigned_to:"",assignedToName:typeof(e==null?void 0:e.assigned_to_name)=="string"?e.assigned_to_name:"",startedBy:typeof(e==null?void 0:e.started_by)=="string"?e.started_by:void 0,startedByName:typeof(e==null?void 0:e.started_by_name)=="string"?e.started_by_name:void 0,startedAt:typeof(e==null?void 0:e.started_at)=="string"?e.started_at:void 0,pickedUpBy:typeof(e==null?void 0:e.picked_up_by)=="string"?e.picked_up_by:void 0,pickedUpByName:typeof(e==null?void 0:e.picked_up_by_name)=="string"?e.picked_up_by_name:void 0,pickedUpAt:typeof(e==null?void 0:e.picked_up_at)=="string"?e.picked_up_at:void 0,completedBy:typeof(e==null?void 0:e.completed_by)=="string"?e.completed_by:void 0,completedByName:typeof(e==null?void 0:e.completed_by_name)=="string"?e.completed_by_name:void 0,completedAt:typeof(e==null?void 0:e.completed_at)=="string"?e.completed_at:void 0,board:(e==null?void 0:e.board)==="achterwinkel"?"achterwinkel":"voorwinkel",deadline:typeof(e==null?void 0:e.deadline)=="string"?e.deadline:void 0,activities:Array.isArray(e==null?void 0:e.activities)?e==null?void 0:e.activities:[]}),Oh=({children:e})=>{const[t,n]=z.useState(null),[r,s]=z.useState(!1),[i,o]=z.useState([]),[l,a]=z.useState(Bu),[c,d]=z.useState("voorwinkel"),[h,p]=z.useState([]),[v,y]=z.useState(null);z.useEffect(()=>{const w=t&&(Fu(t.id)||l.theme)||"light";document.documentElement.setAttribute("data-theme",w),l.theme!==w&&a(S=>({...S,theme:w}))},[t]);const j=async()=>{try{const{data:w,error:S}=await re.from("users").select("*");if(S)throw S;const O=(w||[]).map(I=>({id:I.id,employeeNumber:I.employee_number,username:I.username,name:I.name,role:I.role,boards:Array.isArray(I.boards)?I.boards:["voorwinkel"],isFirstLogin:I.is_first_login,temporaryCode:I.temporary_code}));o(O)}catch(w){console.error("Error fetching users from database:",w),o([])}},C=async(w,S)=>{try{const O=(w??"").trim().replaceAll('"',""),I=(S??"").trim(),{data:k,error:U}=await re.from("users").select("*").eq("employee_number",O).maybeSingle();if(U||!k)return!1;if(k.is_first_login&&k.temporary_code===I){const $={id:k.id,employeeNumber:k.employee_number,username:k.username,name:k.name,role:k.role,boards:Array.isArray(k.boards)?k.boards:["voorwinkel"],isFirstLogin:k.is_first_login,temporaryCode:k.temporary_code};return n($),s(k.role==="manager"),!0}if(!k.is_first_login){const{data:$,error:q}=await re.auth.signInWithPassword({email:`${O}@praxis.local`,password:I});if(q)return!1;if($.user){const Z={id:$.user.id,employeeNumber:k.employee_number,username:k.username,name:k.name,role:k.role,boards:Array.isArray(k.boards)?k.boards:["voorwinkel"],isFirstLogin:!1};return n(Z),s(k.role==="manager"),!0}}return!1}catch{return!1}},m=async()=>{await re.auth.signOut(),n(null),s(!1)},f=async(w,S)=>{try{if(!S||S.trim().length<6)return!1;const{data:O}=await re.from("users").select("employee_number, username").eq("id",w).maybeSingle();if(!O)return!1;const I=`${O.employee_number}@praxis.local`,{error:k}=await re.auth.signUp({email:I,password:S.trim()});if(k){const q=k.status,Z=k.code||k.message;if(q===422&&String(Z).includes("weak_password"))return!1;if(q===422&&String(Z).includes("user_already_exists")){const{error:cn}=await re.auth.signInWithPassword({email:I,password:S.trim()});if(cn)return!1}else return!1}const{error:U}=await re.from("users").update({is_first_login:!1,temporary_code:null,updated_at:new Date().toISOString()}).eq("id",w);if(U)return!1;const{data:$}=await re.from("users").select("*").eq("id",w).maybeSingle();return $&&(n({id:$.id,employeeNumber:$.employee_number,username:$.username,name:$.name,role:$.role,boards:Array.isArray($.boards)?$.boards:["voorwinkel"],isFirstLogin:!!$.is_first_login}),s($.role==="manager")),!0}catch{return!1}},g=async(w,S)=>{try{const O=(w??"").trim().replaceAll('"',""),I=(S??"").trim(),{data:k,error:U}=await re.rpc("consume_temp_code",{p_employee_number:O,p_code:I});if(U||!k)return null;const $={id:k.id,employeeNumber:k.employee_number,username:k.username,name:k.name,role:k.role,boards:Array.isArray(k.boards)?k.boards:["voorwinkel"],isFirstLogin:k.is_first_login};return await j(),$}catch{return null}},_=async w=>{try{const S=String(w.role).toLowerCase()==="manager"?"manager":"user",O=Math.random().toString(36).substring(2,8).toUpperCase(),{error:I}=await re.from("users").insert({employee_number:w.employeeNumber,username:w.employeeNumber,name:w.name,role:S,temporary_code:O,is_first_login:!0,boards:w.boards});if(I)throw I;return await j(),!0}catch{return!1}},x=async(w,S)=>{try{const O={};S.name&&(O.name=S.name),S.role&&(O.role=String(S.role).toLowerCase()==="manager"?"manager":"user"),S.boards&&(O.boards=S.boards),O.updated_at=new Date().toISOString();const{error:I}=await re.from("users").update(O).eq("id",w);if(I)throw I;return await j(),!0}catch{return!1}},N=async w=>{try{const{error:S}=await re.functions.invoke("delete-user",{body:{id:w}});if(!S)return await j(),!0;console.error("Edge function delete-user error (invoke):",S)}catch(S){console.warn("invoke failed, will try direct fetch to functions domain...",S)}try{const S="https://harafuvcikthyxufgkfa.functions.supabase.co",O="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhhcmFmdXZjaWt0aHl4dWZna2ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODAxMDEsImV4cCI6MjA3MTU1NjEwMX0.i5OSHjVR38mlve7dP0ceXbKaG1ic501Mb3toOPnjUj4";if(S){const I=await fetch(`${S}/delete-user`,{method:"POST",headers:{"Content-Type":"application/json",...O?{Authorization:`Bearer ${O}`,apikey:O}:{}},mode:"cors",body:JSON.stringify({id:w})});if(I.ok)return await j(),!0;console.error("Direct functions fetch failed:",I.status,await I.text())}}catch(S){console.warn("Direct fetch to functions domain failed:",S)}try{const{error:S}=await re.from("users").delete().eq("id",w);if(S)throw S;return await j(),!0}catch(S){return console.error("DB delete fallback failed:",S),!1}},b=async()=>{try{const{data:w,error:S}=await re.from("settings").select("key, value");if(S)throw S;const O={};(w||[]).forEach(U=>{O[U.key]=U.value});const I={...Bu,...O,theme:O.theme==="dark"?"dark":O.theme==="auto"?"auto":"light",language:O.language==="en"?"en":"nl"},k=t?Fu(t.id)||I.theme:"light";a({...I,theme:k}),document.documentElement.setAttribute("data-theme",k)}catch(w){console.error("Error fetching settings:",w)}},E=async w=>{const S={...l,...w},{theme:O,...I}=S;a(S);try{for(const[k,U]of Object.entries(I))await re.from("settings").upsert({key:k,value:U,updated_at:new Date().toISOString()})}catch(k){console.error("Error updating settings:",k)}if(typeof O<"u"){try{Ty(t==null?void 0:t.id,O)}catch{}document.documentElement.setAttribute("data-theme",String(O))}},A=async()=>{try{const{data:w,error:S}=await re.from("tasks").select("*").order("created_at",{ascending:!1});if(S)throw S;const O=(w||[]).map(so);p(O)}catch(w){console.error("Error fetching tasks from database:",w),p([])}},R=async w=>{try{const S=so(w),{error:O}=await re.from("tasks").insert({id:S.id,title:S.title,description:S.description,status:S.status,priority:S.priority,assigned_to:S.assignedTo||null,assigned_to_name:S.assignedToName,board:S.board,deadline:S.deadline||null,activities:S.activities,started_by:S.startedBy||null,started_by_name:S.startedByName||null,started_at:S.startedAt||null,picked_up_by:S.pickedUpBy||null,picked_up_by_name:S.pickedUpByName||null,picked_up_at:S.pickedUpAt||null,completed_by:S.completedBy||null,completed_by_name:S.completedByName||null,completed_at:S.completedAt||null});if(O)throw O;await A()}catch(S){console.error("Error adding task to database:",S)}},W=async w=>{try{const S=so({...w,updatedAt:new Date().toISOString()}),{error:O}=await re.from("tasks").update({title:S.title,description:S.description,status:S.status,priority:S.priority,assigned_to:S.assignedTo||null,assigned_to_name:S.assignedToName,board:S.board,deadline:S.deadline||null,activities:S.activities,started_by:S.startedBy||null,started_by_name:S.startedByName||null,started_at:S.startedAt||null,picked_up_by:S.pickedUpBy||null,picked_up_by_name:S.pickedUpByName||null,picked_up_at:S.pickedUpAt||null,completed_by:S.completedBy||null,completed_by_name:S.completedByName||null,completed_at:S.completedAt||null,updated_at:new Date().toISOString()}).eq("id",S.id);if(O)throw O;await A()}catch(S){console.error("Error updating task in database:",S)}},P=async w=>{try{const{error:S}=await re.from("tasks").delete().eq("id",w);if(S)throw S;await A()}catch(S){console.error("Error deleting task from database:",S)}};z.useEffect(()=>{j(),b(),A();const w=re.channel("praxis-tasks").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},()=>A()).on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>j()).on("postgres_changes",{event:"*",schema:"public",table:"settings"},()=>b()).subscribe();return y(w),()=>{w&&re.removeChannel(w)}},[]);const K={currentUser:t,isManager:r,login:C,logout:m,setPassword:f,consumeOneTimeCode:g,users:i,createUser:_,updateUser:x,deleteUser:N,settings:l,updateSettings:E,currentBoard:c,setCurrentBoard:d,tasks:h,fetchTasks:A,addTask:R,updateTask:W,deleteTask:P,t:Cy};return u.jsx(Ah.Provider,{value:K,children:e})},Ay=()=>{const e=z.useContext(Ah);if(!e)throw new Error("useAppContext must be used within AppProvider");return e},Bt=Ay;var Oy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ry=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ly=(e,t)=>{const n=z.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...a},c)=>z.createElement("svg",{ref:c,...Oy,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${Ry(e)}`,...a},[...t.map(([d,h])=>z.createElement(d,h)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${e}`,n};var H=Ly;const Iy=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$y=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Uy=H("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Rh=H("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Cs=H("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Lh=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),zy=H("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),fa=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),My=H("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Dy=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),dl=H("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),By=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Fy=H("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Wy=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Wu=H("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Vy=H("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Hy=H("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Vu=H("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Hu=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ky=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ih=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qy=H("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Gy=H("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Jy=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Qy=H("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Ku=H("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),hl=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fl=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ni=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Xy({onLoginSuccess:e}){const[t,n]=z.useState(""),[r,s]=z.useState(""),[i,o]=z.useState(""),[l,a]=z.useState(""),[c,d]=z.useState(!1),[h,p]=z.useState(""),[v,y]=z.useState(!1),[j,C]=z.useState(null),{login:m,users:f,setPassword:g,consumeOneTimeCode:_,t:x}=Bt(),N=A=>(A??"").trim().replaceAll('"',""),b=async A=>{A.preventDefault(),d(!0),p("");const R=N(t),W=(r??"").trim();console.log("Login form submitted for employee:",R);try{const P=f.find(w=>w.employeeNumber===R);if(console.log("User lookup result:",P?"found":"not found"),P&&W===P.temporaryCode&&P.isFirstLogin){const w=await _(R,W);if(!w){p("Deze eenmalige code is al gebruikt of ongeldig."),d(!1);return}console.log("Temporary code consumed, showing password setup"),C(w),y(!0),d(!1);return}console.log("Attempting regular login"),await m(R,W)?(console.log("Login successful, calling onLoginSuccess"),e==null||e()):(console.log("Login failed"),p("Ongeldig personeelsnummer of wachtwoord"))}catch(P){console.error("Login form error:",P),p(x.loginError)}finally{d(!1)}},E=async A=>{if(A.preventDefault(),d(!0),p(""),console.log("Password setup form submitted"),i.trim().length<6){console.log("Password too short"),p("Wachtwoord moet minimaal 6 tekens zijn"),d(!1);return}if(i!==l){console.log("Password confirmation mismatch"),p(x.passwordsNotMatch),d(!1);return}console.log("Password validation passed, setting up password");try{j&&(console.log("Setting password for user:",j.id),await g(j.id,i.trim())?(console.log("Password set successfully, attempting login"),await m(N(t),i.trim())?(console.log("Login with new password successful"),y(!1),e==null||e()):(console.log("Login with new password failed"),p("Er ging iets mis bij het inloggen met het nieuwe wachtwoord"))):(console.log("Password setup failed"),p("Er ging iets mis bij het instellen van het wachtwoord")))}catch(R){console.error("Password setup error:",R),p("Er ging iets mis bij het instellen van het wachtwoord")}finally{d(!1)}};return v?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-praxis-yellow-light to-gray-100 flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"card p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx(dl,{className:"w-16 h-16 text-praxis-yellow mx-auto mb-4"}),u.jsx("h1",{className:"text-2xl font-bold text-praxis-grey mb-2",children:"Wachtwoord instellen"}),u.jsxs("p",{className:"text-gray-600",children:["Welkom ",u.jsx("strong",{className:"text-gray-900",children:j==null?void 0:j.name}),"! Stel je eigen wachtwoord in."]})]}),u.jsxs("form",{onSubmit:E,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nieuw wachtwoord"}),u.jsx("input",{id:"newPassword",type:"password",value:i,onChange:A=>o(A.target.value),className:"input-field",placeholder:"Voer je nieuwe wachtwoord in",required:!0,minLength:6})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bevestig wachtwoord"}),u.jsx("input",{id:"confirmPassword",type:"password",value:l,onChange:A=>a(A.target.value),className:"input-field",placeholder:"Bevestig je nieuwe wachtwoord",required:!0,minLength:6})]}),h&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),u.jsxs("button",{type:"submit",disabled:c,className:"w-full btn-primary flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?u.jsx("div",{className:"w-5 h-5 border-2 border-praxis-grey border-t-transparent rounded-full animate-spin"}):u.jsx(By,{className:"w-5 h-5"}),c?"Bezig...":"Wachtwoord instellen"]})]})]})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-praxis-yellow-light to-gray-100 flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"card p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("img",{src:"https://images.pexels.com/photos/1181533/pexels-photo-1181533.jpeg?auto=compress&cs=tinysrgb&w=64&h=64&fit=crop",alt:"Praxis Logo",className:"w-16 h-16 rounded-lg mx-auto mb-4"}),u.jsx("h1",{className:"text-2xl font-bold text-praxis-grey mb-2",children:"Praxis Tasks"}),u.jsx("p",{className:"text-gray-600",children:x.loginToAccount})]}),u.jsxs("form",{onSubmit:b,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"employeeNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:x.employeeNumber}),u.jsx("input",{id:"employeeNumber",type:"text",value:t,onChange:A=>n(A.target.value),className:"input-field",placeholder:"1001",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:x.password}),u.jsx("input",{id:"password",type:"password",value:r,onChange:A=>s(A.target.value),className:"input-field",placeholder:x.password,required:!0})]}),h&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),u.jsxs("button",{type:"submit",disabled:c,className:"w-full btn-primary flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?u.jsx("div",{className:"w-5 h-5 border-2 border-praxis-grey border-t-transparent rounded-full animate-spin"}):u.jsx(Fy,{className:"w-5 h-5"}),c?x.loading:x.login]})]}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Test Accounts:"}),u.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Manager:"})," 1001 / manager123"]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Gebruiker:"})," 1002 / user123"]})]})]})]})})})}var Gu,Ju;const Yy=((Ju=(Gu=import.meta)==null?void 0:Gu.env)==null?void 0:Ju.VITE_APP_VERSION)??"0.1.0 beta";function qu({currentStatus:e,onStatusChange:t,onSettingsClick:n}){const{currentUser:r,currentBoard:s,setCurrentBoard:i,logout:o,tasks:l,t:a}=Bt();if(!r)return null;const c={todo:a.statusTodo??a.todo??"Te Doen",needsPickup:a.statusNeedsPickup??a.needsPickup??"Taak oppakken",inProgress:a.statusInProgress??a.inProgress??"Mee Bezig",completed:a.statusCompleted??a.completed??"Afgerond",settings:a.settings??"Instellingen",logout:a.logout??"Uitloggen",voorwinkel:a.voorwinkel??"Voorwinkel",achterwinkel:a.achterwinkel??"Achterwinkel"},d=r.name??r.username,h=l.filter(y=>(y.board??"voorwinkel")===s),p=y=>h.filter(j=>j.status===y).length,v=[{status:"todo",label:c.todo,icon:zy,count:p("todo")},{status:"needs-pickup",label:c.needsPickup,icon:Iy,count:p("needs-pickup")},{status:"in-progress",label:c.inProgress,icon:fa,count:p("in-progress")},{status:"completed",label:c.completed,icon:Cs,count:p("completed")}];return u.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:"https://play-lh.googleusercontent.com/Gg4iUcjk0kYsRxbKrSGIjAOojuh3ch68QNrkdv64Sp2iPgKbO2L72kEDvpW07idtDA",alt:"Praxis Tasks Logo",className:"w-8 h-8 rounded-lg"}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("h1",{className:"text-xl font-bold text-praxis-grey",children:"Praxis Tasks"}),u.jsxs("span",{className:"text-xs text-gray-500",children:["v",Yy]})]})]}),u.jsxs("div",{className:"hidden sm:flex items-center gap-2 ml-8",children:[u.jsx("button",{onClick:()=>i("voorwinkel"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${s==="voorwinkel"?"bg-praxis-yellow text-praxis-grey":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c.voorwinkel}),u.jsx("button",{onClick:()=>i("achterwinkel"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${s==="achterwinkel"?"bg-praxis-yellow text-praxis-grey":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c.achterwinkel})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm text-gray-600",children:[r.role==="manager"&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(fl,{className:"w-4 h-4"}),u.jsx("span",{children:a.manager??"Manager"})]}),u.jsx("span",{className:"font-medium text-gray-900",children:d})]}),n&&u.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",title:c.settings,children:[u.jsx(Ih,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:c.settings})]}),u.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[u.jsx(Wy,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:c.logout})]})]})]}),u.jsx("div",{className:"sm:hidden pb-4",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>i("voorwinkel"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="voorwinkel"?"bg-praxis-yellow text-praxis-grey":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c.voorwinkel}),u.jsx("button",{onClick:()=>i("achterwinkel"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s==="achterwinkel"?"bg-praxis-yellow text-praxis-grey":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:c.achterwinkel})]})}),u.jsx("div",{className:"border-t border-gray-200",children:u.jsx("div",{className:"flex overflow-x-auto",children:v.map(y=>{const j=y.icon;return u.jsxs("button",{onClick:()=>t(y.status),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${e===y.status?"border-praxis-yellow text-praxis-grey bg-praxis-yellow-light":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[u.jsx(j,{className:"w-4 h-4"}),u.jsx("span",{children:y.label}),u.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${e===y.status?"bg-praxis-yellow text-praxis-grey":"bg-gray-100 text-gray-600"}`,children:y.count})]},y.status)})})})]})})}function Zy({task:e,onEdit:t,showActions:n=!1,onComplete:r,onDelete:s}){const{updateTask:i,currentUser:o,t:l}=Bt(),a=()=>new Date().toISOString(),c=()=>crypto.randomUUID(),d=(b,E,A,R,W="")=>({...b,activities:[...Array.isArray(b.activities)?b.activities:[],{id:c(),type:E,description:W,timestamp:a(),userId:A,userName:R??""}]}),h=(o==null?void 0:o.id)??"",p=(o==null?void 0:o.name)??(o==null?void 0:o.username)??"",v=e.priority??"medium",y=b=>{switch(b){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-100"}},j=b=>{switch(b){case"high":return l.high??"Hoog";case"medium":return l.medium??"Gemiddeld";case"low":return l.low??"Laag";default:return l.medium??"Gemiddeld"}};e.deadline&&new Date(e.deadline)<new Date&&e.status;const C=Array.isArray(e.activities)?e.activities:[],m=async b=>{b.stopPropagation();let E=d({...e,status:"in-progress",updatedAt:a()},"updated",h,p,"status: in-progress");e.status==="needs-pickup"?(E.pickedUpBy=h,E.pickedUpByName=p,E.pickedUpAt=a()):e.startedBy||(E.startedBy=h,E.startedByName=p,E.startedAt=a()),await i(E)},f=async b=>{b.stopPropagation();const E=d({...e,status:"needs-pickup",updatedAt:a()},"updated",h,p,"status: needs-pickup");await i(E)},g=b=>{b.stopPropagation(),r==null||r(e)},_=b=>{b.stopPropagation(),s&&window.confirm(`Weet je zeker dat je de taak '${e.title}' wilt verwijderen?`)&&s(e.id)};function x(b){const E=b.find(A=>(A==null?void 0:A.type)==="updated"&&((A==null?void 0:A.description)||"").includes("status: in-progress"));return(E==null?void 0:E.userName)||""}function N(b){for(let E=0;E<b.length-1;E++){const A=b[E],R=b[E+1],W=(A==null?void 0:A.type)==="updated"&&((A==null?void 0:A.description)||"").includes("status: needs-pickup"),P=(R==null?void 0:R.type)==="updated"&&((R==null?void 0:R.description)||"").includes("status: in-progress");if(W&&P)return(R==null?void 0:R.userName)||""}return""}return u.jsxs("div",{className:"card p-4 cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>t(e),children:[e.status==="completed"&&s&&u.jsx("div",{className:"flex justify-end mb-2",children:u.jsx("button",{onClick:_,className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition-colors",title:"Taak verwijderen",children:u.jsx(ni,{className:"w-4 h-4"})})}),u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2 flex-1",children:e.title}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(v)}`,children:j(v)})]}),e.description&&u.jsx("p",{className:"text-sm text-gray-600 mb-1 line-clamp-2",children:e.description}),u.jsxs("div",{className:"space-y-2",children:[e.assignedToName&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[u.jsx(hl,{className:"w-4 h-4"}),u.jsx("span",{children:e.assignedToName})]}),(()=>{const b=e.createdByName||"",E=C.find(R=>(R==null?void 0:R.type)==="created"),A=b||(E==null?void 0:E.userName)||"";return A?u.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[u.jsx(hl,{className:"w-3 h-3"}),u.jsxs("span",{children:["Aangemaakt door ",A]})]}):null})(),(()=>{const E=e.startedByName||""||x(C),R=e.pickedUpByName||""||N(C),W=C.slice().reverse().find(K=>(K==null?void 0:K.type)==="completed"),P=e.completedByName||(W==null?void 0:W.userName)||"";return u.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs",children:[E&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-yellow-100 text-yellow-800 ring-1 ring-yellow-200",children:[u.jsx(Vu,{className:"w-3 h-3"}),u.jsxs("span",{children:["Gestart door ",E]})]}),R&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-blue-100 text-blue-800 ring-1 ring-blue-200",children:[u.jsx(Qy,{className:"w-3 h-3"}),u.jsxs("span",{children:["Opgepakt door ",R]})]}),e.status==="completed"&&P&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-green-100 text-green-800 ring-1 ring-green-200",children:[u.jsx(Cs,{className:"w-3 h-3"}),u.jsxs("span",{children:["Afgerond door ",P]})]})]})})()]}),u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-100 mt-3",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(fa,{className:"w-3 h-3"}),u.jsx("span",{children:new Date(e.updatedAt).toLocaleDateString("nl-NL",{day:"numeric",month:"short"})})]}),C.length>1&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Cs,{className:"w-3 h-3"}),u.jsxs("span",{children:[C.length," activiteiten"]})]})]}),n&&u.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100 mt-3",children:[(e.status==="todo"||e.status==="needs-pickup")&&u.jsxs("button",{onClick:m,className:"flex items-center gap-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors",children:[u.jsx(Vu,{className:"w-3 h-3"}),e.status==="needs-pickup"?l.pickup??"Oppakken":l.start??"Starten"]}),e.status==="in-progress"&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:f,className:"flex items-center gap-1 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-lg text-sm font-medium hover:bg-orange-200 transition-colors",children:[u.jsx(Vy,{className:"w-3 h-3"}),l.pause??"Pauzeren"]}),r&&u.jsxs("button",{onClick:g,className:"flex items-center gap-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors",children:[u.jsx(Cs,{className:"w-3 h-3"}),l.complete??"Afronden"]})]})]})]})}const ev="Titel (bijv. Stelling A bijvullen)",tv="Korte omschrijving (materiaal, locatie, bijzonderheden)...",nv="Nieuwe taak",rv="Omschrijving ontbreekt.";function sv({task:e,isOpen:t,onClose:n,onSave:r,onDelete:s}){const{users:i,currentUser:o,currentBoard:l,t:a}=Bt(),[c,d]=z.useState({title:"",description:"",priority:"medium",assignedTo:"",deadline:"",board:l||"voorwinkel"}),[h,p]=z.useState("");z.useEffect(()=>{d(e?{title:e.title??"",description:e.description??"",priority:e.priority??"medium",assignedTo:e.assignedTo||"",deadline:e.deadline?String(e.deadline).split("T")[0]:"",board:e.board??(l||"voorwinkel")}:{title:"",description:"",priority:"medium",assignedTo:"",deadline:"",board:l||"voorwinkel"}),p("")},[e,l,t]);const v=m=>{m.preventDefault();const g=(Array.isArray(i)?i:[]).find(N=>String(N.id)===String(c.assignedTo)),_=(c.title??"").trim()||nv,x=(c.description??"").trim()||rv;r({...c,title:_,description:x,assignedToName:g==null?void 0:g.name,deadline:c.deadline||void 0}),n()},y=()=>{e&&s&&window.confirm(`Weet je zeker dat je de taak '${e.title}' wilt verwijderen?`)&&(s(e.id),n())};if(!t)return null;const C=(Array.isArray(i)?i:[]).filter(m=>{const f=((m==null?void 0:m.name)??"").toString().toLowerCase(),g=h.trim().toLowerCase();return f.includes(g)});return Array.isArray(e==null?void 0:e.activities)&&e.activities,u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?a.edit+" "+a.tasks:a.newTask??"Nieuwe taak aanmaken"}),u.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(ni,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:[a.title??"Titel"," *"]}),u.jsx("input",{id:"title",type:"text",value:c.title,onChange:m=>d({...c,title:m.target.value}),className:"input-field placeholder-gray-400",placeholder:ev,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:a.description??"Beschrijving"}),u.jsx("textarea",{id:"description",value:c.description,onChange:m=>d({...c,description:m.target.value}),className:"input-field min-h-[100px] resize-y placeholder-gray-400",placeholder:tv,rows:4})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(My,{className:"w-4 h-4 inline mr-1"}),a.priority??"Prioriteit"]}),u.jsxs("select",{id:"priority",value:c.priority,onChange:m=>d({...c,priority:m.target.value}),className:"input-field",children:[u.jsx("option",{value:"low",children:a.low??"Laag"}),u.jsx("option",{value:"medium",children:a.medium??"Normaal"}),u.jsx("option",{value:"high",children:a.high??"Hoog"})]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"board",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Uy,{className:"w-4 h-4 inline mr-1"}),a.departments??"Afdeling"]}),u.jsxs("select",{id:"board",value:c.board,onChange:m=>d({...c,board:m.target.value}),className:"input-field",children:[u.jsx("option",{value:"voorwinkel",children:a.voorwinkel??"Voorwinkel"}),u.jsx("option",{value:"achterwinkel",children:a.achterwinkel??"Achterwinkel"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(hl,{className:"w-4 h-4 inline mr-1"}),a.assignedTo??"Toegewezen aan"]}),u.jsx("input",{type:"text",value:h,onChange:m=>p(m.target.value),className:"input-field mb-2 placeholder-gray-400",placeholder:"Zoek op naam..."}),u.jsxs("select",{id:"assignedTo",value:c.assignedTo,onChange:m=>d({...c,assignedTo:m.target.value}),className:"input-field",children:[u.jsx("option",{value:"",children:" Niet toegewezen "}),C.length===0?u.jsx("option",{disabled:!0,value:"",children:"Geen gebruiker gevonden"}):C.map(m=>u.jsxs("option",{value:m.id,children:[m.name,m.role==="manager"?" (Manager)":""]},m.id))]})]}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"deadline",className:"block text-sm font-medium text-gray-700 mb-2",children:[u.jsx(Rh,{className:"w-4 h-4 inline mr-1"}),a.deadline??"Deadline"]}),u.jsx("input",{id:"deadline",type:"date",value:c.deadline,onChange:m=>d({...c,deadline:m.target.value}),className:"input-field",min:new Date().toISOString().split("T")[0]})]})]}),Array.isArray(e==null?void 0:e.activities)&&e.activities.length>0&&u.jsxs("div",{className:"mt-2 bg-gray-50 border rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Logboek"}),(()=>{const m=e.activities,f=new Set,g=m.filter(x=>{const N=String((x==null?void 0:x.id)||`${x==null?void 0:x.timestamp}|${x==null?void 0:x.type}|${x==null?void 0:x.userId}|${x==null?void 0:x.description}`);return f.has(N)?!1:(f.add(N),!0)}).sort((x,N)=>new Date(N.timestamp).getTime()-new Date(x.timestamp).getTime()),_=x=>{const N="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium";return x==="created"?u.jsx("span",{className:`${N} bg-blue-100 text-blue-800 ring-1 ring-blue-200`,children:"Aangemaakt"}):x==="assigned"?u.jsx("span",{className:`${N} bg-purple-100 text-purple-800 ring-1 ring-purple-200`,children:"Toegewezen"}):x==="moved"?u.jsx("span",{className:`${N} bg-orange-100 text-orange-800 ring-1 ring-orange-200`,children:"Verplaatst"}):x==="completed"?u.jsx("span",{className:`${N} bg-green-100 text-green-800 ring-1 ring-green-200`,children:"Afgerond"}):u.jsx("span",{className:`${N} bg-yellow-100 text-yellow-800 ring-1 ring-yellow-200`,children:"Bijgewerkt"})};return u.jsx("ul",{className:"space-y-2 max-h-56 overflow-auto text-sm text-gray-700",children:g.map((x,N)=>u.jsxs("li",{className:"flex flex-col md:flex-row md:items-center md:gap-3",children:[u.jsx("div",{className:"text-gray-500 min-w-40",children:new Date(x.timestamp).toLocaleString()}),u.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[_(String(x.type)),u.jsx("span",{className:"font-medium",children:x.userName||"onbekend"}),x.description&&u.jsxs("span",{className:"text-gray-600 break-all",children:[" ",x.description]})]})]},x.id??N))})})()]}),u.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[u.jsx("div",{children:e&&s&&(o==null?void 0:o.role)==="manager"&&u.jsxs("button",{type:"button",onClick:y,className:"text-red-600 hover:text-red-700 font-medium",children:[a.delete??"Verwijderen"," ",a.tasks??"Taken"]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:a.cancel??"Annuleren"}),u.jsx("button",{type:"submit",className:"btn-primary",children:e?a.save??"Opslaan":a.create??"Aanmaken"})]})]})]})]})})}const io=()=>crypto.randomUUID(),ir=()=>new Date().toISOString();function iv({status:e,title:t}){const{tasks:n,currentBoard:r,addTask:s,updateTask:i,deleteTask:o,t:l,currentUser:a}=Bt(),[c,d]=z.useState(null),[h,p]=z.useState(!1),[v,y]=z.useState(null),[j,C]=z.useState(!1),m=(P,K,w,S)=>({...P,activities:[...Array.isArray(P.activities)?P.activities:[],{id:io(),type:K,description:"",timestamp:ir(),userId:w,userName:S??""}]}),f=(a==null?void 0:a.id)??"",g=(a==null?void 0:a.name)??(a==null?void 0:a.username)??"",_=n.filter(P=>(P.board??"voorwinkel")===r&&P.status===e),x=()=>{d(null),p(!0)},N=P=>{d(P),p(!0)},b=async P=>{const K=ir();if(c){const w={...c,...P,updatedAt:K};await i(w)}else{const w={activities:[{id:io(),type:"created",description:"Taak aangemaakt",timestamp:ir(),userId:(a==null?void 0:a.id)??"",userName:(a==null?void 0:a.name)??(a==null?void 0:a.username)??""}],id:io(),title:String(P.title??"").trim()||"Nieuwe taak",status:P.status??e??"todo",description:String(P.description??""),assignedTo:String(P.assignedTo??""),assignedToName:String(P.assignedToName??""),priority:P.priority??"medium",deadline:P.deadline,board:P.board??r,createdAt:K,updatedAt:K,startedBy:P==null?void 0:P.startedBy,startedByName:P==null?void 0:P.startedByName,startedAt:P==null?void 0:P.startedAt,pickedUpBy:P==null?void 0:P.pickedUpBy,pickedUpByName:P==null?void 0:P.pickedUpByName,pickedUpAt:P==null?void 0:P.pickedUpAt,completedBy:P==null?void 0:P.completedBy,completedByName:P==null?void 0:P.completedByName,completedAt:P==null?void 0:P.completedAt};await s(w)}p(!1),d(null)},E=P=>{y(P),C(!0)},A=async()=>{if(v){const P={...v,status:"completed",updatedAt:ir()},K=m(P,"completed",f,g);K.completedBy=f,K.completedByName=g,K.completedAt=ir(),await i(K),y(null),C(!1)}},R=()=>{y(null),C(!1)},W=P=>{switch(P){case"todo":return"from-blue-500 to-blue-600";case"needs-pickup":return"from-orange-500 to-orange-600";case"in-progress":return"from-praxis-yellow to-praxis-yellow-dark";case"completed":return"from-green-500 to-green-600"}};return u.jsx("div",{className:"flex-1 p-4 md:p-6",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("div",{className:`bg-gradient-to-r ${W(e)} text-white rounded-lg p-6 mb-6`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold mb-2",children:t}),u.jsxs("p",{className:"text-white/90",children:[_.length," ",l.tasks]})]}),e==="todo"&&u.jsxs("button",{onClick:x,className:"bg-white/20 hover:bg-white/30 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2",children:[u.jsx(Hu,{className:"w-5 h-5"}),l.newTask??"Nieuwe taak"]})]})}),_.length===0?u.jsxs("div",{className:"text-center py-12",children:[e==="todo"&&u.jsx("div",{className:"text-gray-400 mb-4",children:u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx(Hu,{className:"w-8 h-8"})})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Geen taken gevonden"}),u.jsx("p",{className:"text-gray-600 mb-4"}),e==="todo"&&u.jsx("button",{onClick:x,className:"btn-primary",children:"Creer een taak"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(P=>u.jsx(Zy,{task:P,onEdit:N,showActions:!0,onComplete:e==="in-progress"?E:void 0,onDelete:K=>o(K)},P.id))}),j&&v&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[l.complete??"Afronden"," ",l.tasks]}),u.jsxs("p",{className:"text-gray-600 mb-6",children:[l.complete??"Afronden"," ",u.jsxs("strong",{children:['"',v.title,'"']}),"?"]}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:R,className:"btn-secondary",children:l.cancel??"Annuleren"}),u.jsxs("button",{onClick:A,className:"bg-green-600 hover:bg-green-700 text-white font-medium px-4 py-2 rounded-lg transition-colors duration-200",children:[l.yes??"Ja",", ",l.complete??"Afronden"]})]})]})}),u.jsx(sv,{task:c,isOpen:h,onClose:()=>{p(!1),d(null)},onSave:b,onDelete:P=>o(P)})]})})}const ov=e=>({settings:(e==null?void 0:e.settings)??"Instellingen",userManagement:(e==null?void 0:e.userManagement)??"Gebruikersbeheer",personalSettings:(e==null?void 0:e.personalSettings)??"Persoonlijke instellingen",users:(e==null?void 0:e.users)??"Gebruikers",create:(e==null?void 0:e.create)??"Aanmaken",edit:(e==null?void 0:e.edit)??"Bewerken",delete:(e==null?void 0:e.delete)??"Verwijderen",cancel:(e==null?void 0:e.cancel)??"Annuleren",close:(e==null?void 0:e.close)??"Sluiten",confirm:(e==null?void 0:e.confirm)??"Bevestigen",manager:(e==null?void 0:e.manager)??"Manager",employee:(e==null?void 0:e.employee)??"Medewerker",role:(e==null?void 0:e.role)??"Rol",name:(e==null?void 0:e.name)??"Naam",employeeNumber:(e==null?void 0:e.employeeNumber)??"Personeelsnummer",departments:(e==null?void 0:e.departments)??"Afdeling",voorwinkel:(e==null?void 0:e.voorwinkel)??"Voorwinkel",achterwinkel:(e==null?void 0:e.achterwinkel)??"Achterwinkel",newUser:(e==null?void 0:e.newUser)??"Nieuwe gebruiker",temporaryCode:(e==null?void 0:e.temporaryCode)??"Eenmalige inlogcode",copyCode:(e==null?void 0:e.copyCode)??"Kopieer code",copied:(e==null?void 0:e.copied)??"Gekopieerd!",dailyReport:(e==null?void 0:e.dailyReport)??"Dagrapport",weeklyReport:(e==null?void 0:e.weeklyReport)??"Weekrapport",totalTasks:(e==null?void 0:e.totalTasks)??"Totaal taken",completed:(e==null?void 0:e.completed)??"Afgerond",overdueTasks:(e==null?void 0:e.overdueTasks)??"Verlopen taken",activeUsers:(e==null?void 0:e.activeUsers)??"Actieve gebruikers",theme:(e==null?void 0:e.theme)??"Thema",language:(e==null?void 0:e.language)??"Taal",light:(e==null?void 0:e.light)??"Licht",dark:(e==null?void 0:e.dark)??"Donker",autoLogout:(e==null?void 0:e.autoLogout)??"Automatisch uitloggen",autoLogoutTime:(e==null?void 0:e.autoLogoutTime)??"Tijd tot automatisch uitloggen (min.)"});function lv({isPersonalOnly:e=!1}){const{currentUser:t,users:n,tasks:r,settings:s,updateSettings:i,createUser:o,updateUser:l,deleteUser:a,t:c}=Bt(),d=z.useMemo(()=>ov(c),[c]),h=(t==null?void 0:t.role)==="manager";if(!t)return u.jsx("div",{className:"flex-1 p-6",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx(qy,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Niet ingelogd"}),u.jsx("p",{className:"text-gray-600",children:"Log in om toegang te krijgen tot de instellingen."})]})})});const p=w=>{i({theme:w}),document.documentElement.setAttribute("data-theme",w)},v=w=>{i({language:w})},y=z.useMemo(()=>{const w=r.length,S=r.filter(k=>k.status==="completed").length,O=r.filter(k=>k.deadline&&new Date(k.deadline)<new Date&&k.status!=="completed").length,I=r.filter(k=>k.status==="in-progress").length;return{totalTasks:w,completedTasks:S,overdueTasks:O,activeTasks:I}},[r]),j=z.useMemo(()=>{const w=n.length,S=n.filter(k=>!k.isFirstLogin).length,O=n.filter(k=>k.role==="manager").length,I=n.filter(k=>String(k.role)==="user"||String(k.role)==="employee").length;return{totalUsers:w,activeUsers:S,managers:O,employees:I}},[n]),[C,m]=z.useState(""),[f,g]=z.useState("all"),[_,x]=z.useState(!1),[N,b]=z.useState(null),[E,A]=z.useState({employeeNumber:"",name:"",role:"user",boards:["voorwinkel"]}),R=n.filter(w=>{const O=(w.name??w.username??"").toString().toLowerCase().includes(C.toLowerCase())||(w.employeeNumber??"").toString().includes(C),I=String(w.role);return O&&(f==="all"||(I==="employee"?"user":I)===f)}),W=(w,S)=>w.includes(S)?w.filter(O=>O!==S):[...w,S],P=async w=>{const S=n.find(O=>O.id===w);if(S){if(S.id===t.id){alert("Je kunt jezelf niet verwijderen.");return}window.confirm(`Weet je zeker dat je ${S.name??S.employeeNumber} wilt verwijderen?`)&&(await a(w)||alert("Verwijderen mislukt (minimaal n manager vereist?)."))}},K=async w=>{try{await navigator.clipboard.writeText(w),alert(d.copied)}catch{const S=document.createElement("textarea");S.value=w,document.body.appendChild(S),S.select(),document.execCommand("copy"),document.body.removeChild(S),alert(d.copied)}};return u.jsx("div",{className:"flex-1 p-4 md:p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsx("div",{className:"bg-gradient-to-r from-praxis-grey to-gray-700 text-white rounded-lg p-6 mb-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ih,{className:"w-6 h-6"}),u.jsx("h1",{className:"text-2xl font-semibold",children:d.settings})]})}),!e&&h&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[u.jsx($y,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:d.totalTasks})]}),u.jsx("div",{className:"text-2xl font-semibold",children:y.totalTasks})]}),u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[u.jsx(Lh,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:d.completed})]}),u.jsx("div",{className:"text-2xl font-semibold",children:y.completedTasks})]}),u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[u.jsx(Rh,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:d.overdueTasks})]}),u.jsx("div",{className:"text-2xl font-semibold",children:y.overdueTasks})]}),u.jsxs("div",{className:"card p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[u.jsx(fl,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium",children:d.activeUsers})]}),u.jsx("div",{className:"text-2xl font-semibold",children:j.activeUsers})]})]}),u.jsxs("div",{className:"card p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(Wu,{className:"w-6 h-6 text-praxis-grey"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d.personalSettings})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Wu,{className:"w-4 h-4"}),u.jsx("label",{className:"block font-medium",children:d.theme})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:`btn ${s.theme==="light"?"btn-primary":"btn-secondary"}`,onClick:()=>p("light"),children:d.light}),u.jsx("button",{className:`btn ${s.theme==="dark"?"btn-primary":"btn-secondary"}`,onClick:()=>p("dark"),children:d.dark})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dy,{className:"w-4 h-4"}),u.jsx("label",{className:"block font-medium",children:d.language})]}),u.jsxs("select",{className:"input-field",value:s.language,onChange:w=>v(w.target.value),children:[u.jsx("option",{value:"nl",children:"Nederlands"}),u.jsx("option",{value:"en",children:"English"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fa,{className:"w-4 h-4"}),u.jsx("label",{className:"block font-medium",children:d.autoLogout})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",className:"rounded",checked:s.autoLogout,onChange:w=>i({autoLogout:w.target.checked})}),s.autoLogout&&u.jsx("input",{type:"number",className:"input-field w-24",value:s.autoLogoutTime,min:0,onChange:w=>i({autoLogoutTime:Math.max(0,parseInt(w.target.value||"0",10)||0)})})]})]})]})]}),!e&&h&&u.jsxs("div",{className:"card p-6 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fl,{className:"w-5 h-5"}),u.jsx("h2",{className:"text-lg font-semibold",children:d.userManagement})]}),u.jsxs("button",{className:"btn-primary",onClick:()=>x(!0),children:[u.jsx(Ku,{className:"w-4 h-4 mr-2"}),d.newUser]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Ky,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",className:"input-field pl-9",placeholder:"Zoeken op naam of personeelsnr.",value:C,onChange:w=>m(w.target.value)})]}),u.jsx("div",{children:u.jsxs("select",{className:"input-field",value:f,onChange:w=>g(w.target.value||"all"),children:[u.jsx("option",{value:"all",children:"Alle rollen"}),u.jsx("option",{value:"user",children:d.employee}),u.jsx("option",{value:"manager",children:d.manager})]})})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-600",children:[u.jsx("th",{className:"py-2 px-3",children:"#"}),u.jsx("th",{className:"py-2 px-3",children:d.name}),u.jsx("th",{className:"py-2 px-3",children:d.employeeNumber}),u.jsx("th",{className:"py-2 px-3",children:d.role}),u.jsx("th",{className:"py-2 px-3",children:d.departments}),u.jsx("th",{className:"py-2 px-3",children:d.temporaryCode}),u.jsx("th",{className:"py-2 px-3"})]})}),u.jsx("tbody",{children:R.map(w=>{const S=String(w.role)==="employee"?"user":w.role,O=(w.boards??[]).join(", "),I=w.temporaryCode;return u.jsxs("tr",{className:"border-t",children:[u.jsx("td",{className:"py-2 px-3",children:w.id.slice(-4)}),u.jsx("td",{className:"py-2 px-3",children:w.name??w.username??"-"}),u.jsx("td",{className:"py-2 px-3",children:w.employeeNumber??"-"}),u.jsx("td",{className:"py-2 px-3",children:S==="manager"?d.manager:d.employee}),u.jsx("td",{className:"py-2 px-3",children:O||"-"}),u.jsx("td",{className:"py-2 px-3",children:I?u.jsxs("button",{className:"inline-flex items-center gap-2 px-2 py-1 text-xs rounded bg-orange-100 text-orange-700 hover:bg-orange-200",title:d.copyCode,onClick:()=>K(I),children:[u.jsx(dl,{className:"w-3 h-3"}),u.jsx("code",{className:"font-mono",children:I})]}):u.jsx("span",{className:"text-gray-400",children:""})}),u.jsx("td",{className:"py-2 px-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"btn-secondary",onClick:()=>b(w.id),children:u.jsx(Hy,{className:"w-4 h-4"})}),u.jsx("button",{className:"btn-danger",onClick:()=>{if(w.id===t.id){alert("Je kunt jezelf niet verwijderen.");return}confirm(`Verwijder ${w.name??w.employeeNumber}?`)&&P(w.id)},children:u.jsx(Jy,{className:"w-4 h-4"})})]})})]},w.id)})})]})})]}),h&&_&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d.newUser}),u.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:u.jsx(ni,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.employeeNumber," *"]}),u.jsx("input",{type:"text",value:E.employeeNumber,onChange:w=>A(S=>({...S,employeeNumber:w.target.value})),className:"input-field",placeholder:"Bijv. 3001"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.name," *"]}),u.jsx("input",{type:"text",value:E.name,onChange:w=>A(S=>({...S,name:w.target.value})),className:"input-field",placeholder:"Voor- en achternaam"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.role}),u.jsxs("select",{value:E.role,onChange:w=>A(S=>({...S,role:w.target.value||"user"})),className:"input-field",children:[u.jsx("option",{value:"user",children:d.employee}),u.jsx("option",{value:"manager",children:d.manager})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.departments}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:E.boards.includes("voorwinkel"),onChange:()=>A(w=>({...w,boards:W(w.boards,"voorwinkel")})),className:"rounded mr-2"}),d.voorwinkel]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:E.boards.includes("achterwinkel"),onChange:()=>A(w=>({...w,boards:W(w.boards,"achterwinkel")})),className:"rounded mr-2"}),d.achterwinkel]})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:[u.jsx("button",{onClick:()=>x(!1),className:"btn-secondary",children:d.cancel}),u.jsxs("button",{onClick:async()=>{if(!E.employeeNumber||!E.name){alert("Vul alle verplichte velden in");return}if(!E.boards.length){alert("Selecteer minimaal n afdeling");return}if(n.find(O=>O.employeeNumber===E.employeeNumber)){alert("Dit personeelsnummer bestaat al");return}const w=String(E.role)==="manager"?"manager":"user";await o({employeeNumber:E.employeeNumber.trim(),name:E.name.trim(),role:w,boards:E.boards})?(x(!1),A({employeeNumber:"",name:"",role:"user",boards:["voorwinkel"]})):alert("Aanmaken mislukt (bestaat al of serverfout).")},className:"btn-primary",children:[u.jsx(Ku,{className:"w-4 h-4 mr-2"}),d.create," ",d.users]})]})]})}),h&&N&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[d.edit," ",d.users]}),u.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:u.jsx(ni,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"p-6",children:(()=>{const w=n.find(O=>O.id===N);if(!w)return null;const S=String(w.role)==="employee"?"user":w.role;return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.name}),u.jsx("input",{type:"text",defaultValue:w.name,onBlur:async O=>{const I=O.currentTarget.value.trim();I&&I!==w.name&&await l(w.id,{name:I})},className:"input-field"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.role}),u.jsxs("select",{defaultValue:S,onChange:async O=>{const I=O.target.value||"user";if(w.id===t.id&&I!=="manager"){alert("Je kunt jezelf niet degraderen."),O.currentTarget.value="manager";return}await l(w.id,{role:I})||alert("Aanpassen mislukt (minimaal n manager vereist?).")},className:"input-field",disabled:w.id===t.id,children:[u.jsx("option",{value:"user",children:d.employee}),u.jsx("option",{value:"manager",children:d.manager})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.departments}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:(w.boards??[]).includes("voorwinkel"),onChange:async O=>{const I=O.target.checked?[...w.boards??[],"voorwinkel"]:(w.boards??[]).filter(k=>k!=="voorwinkel");await l(w.id,{boards:I.map(k=>k)})},className:"rounded mr-2"}),d.voorwinkel]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:(w.boards??[]).includes("achterwinkel"),onChange:async O=>{const I=O.target.checked?[...w.boards??[],"achterwinkel"]:(w.boards??[]).filter(k=>k!=="achterwinkel");await l(w.id,{boards:I})},className:"rounded mr-2"}),d.achterwinkel]})]})]}),w.temporaryCode&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.temporaryCode}),u.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg flex items-center gap-2",children:[u.jsx(dl,{className:"w-4 h-4 text-orange-600"}),u.jsx("code",{className:"font-mono text-lg",children:w.temporaryCode}),u.jsx("button",{className:"ml-auto btn-secondary text-xs py-1 px-2",onClick:()=>K(w.temporaryCode),children:d.copyCode})]})]})]})})()}),u.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:u.jsx("button",{onClick:()=>b(null),className:"btn-secondary",children:d.close})})]})})]})})}function av({onComplete:e}){const{currentUser:t,t:n}=Bt(),[r,s]=z.useState(!1);return z.useEffect(()=>{const i=setTimeout(()=>s(!0),100),o=setTimeout(()=>e(),3e3);return()=>{clearTimeout(i),clearTimeout(o)}},[e]),u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-praxis-yellow-light to-gray-100 flex items-center justify-center p-4",children:[u.jsxs("div",{className:`text-center transition-all duration-1000 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[u.jsxs("div",{className:"relative mb-8",children:[u.jsx("div",{className:"absolute inset-0 animate-ping",children:u.jsx("div",{className:"w-24 h-24 mx-auto bg-praxis-yellow rounded-full opacity-20"})}),u.jsx("div",{className:"relative",children:u.jsx("img",{src:"https://play-lh.googleusercontent.com/Gg4iUcjk0kYsRxbKrSGIjAOojuh3ch68QNrkdv64Sp2iPgKbO2L72kEDvpW07idtDA",alt:"Praxis Tasks Logo",className:"w-24 h-24 rounded-2xl mx-auto shadow-lg animate-bounce"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h1",{className:"text-4xl font-bold text-praxis-grey",children:[n.welcome," Welkom bij, Praxis Tasks!"]}),u.jsxs("p",{className:"text-xl text-gray-600",children:[n.welcome," ",u.jsx("span",{className:"font-semibold text-praxis-grey",children:t==null?void 0:t.name})]}),u.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[u.jsx(Lh,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:n.loginSuccess})]})]}),u.jsx("div",{className:"mt-8 relative",children:u.jsxs("div",{className:"w-16 h-16 mx-auto",children:[u.jsx("div",{className:"absolute inset-0 border-4 border-praxis-yellow border-t-transparent rounded-full animate-spin"}),u.jsx("div",{className:"absolute inset-2 border-2 border-praxis-yellow-dark border-b-transparent rounded-full animate-spin animate-reverse",style:{animationDuration:"1.5s"}}),u.jsx("div",{className:"absolute inset-4 flex items-center justify-center",children:u.jsx(Gy,{className:"w-4 h-4 text-praxis-yellow-dark animate-pulse"})})]})}),u.jsxs("button",{onClick:e,className:"mt-8 text-gray-500 hover:text-gray-700 text-sm transition-colors",children:[n.tasks," "]})]}),u.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[u.jsx("div",{className:"absolute -top-4 -left-4 w-72 h-72 bg-praxis-yellow opacity-10 rounded-full animate-pulse"}),u.jsx("div",{className:"absolute -bottom-8 -right-8 w-96 h-96 bg-praxis-yellow-dark opacity-5 rounded-full animate-pulse",style:{animationDelay:"1s"}})]})]})}function uv(){const{currentUser:e,t}=Bt(),[n,r]=z.useState("todo"),[s,i]=z.useState(!1),[o,l]=z.useState(!1);if(!e)return u.jsx(Xy,{onLoginSuccess:()=>l(!0)});if(o)return u.jsx(av,{onComplete:()=>l(!1)});if(s)return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[u.jsx(qu,{currentStatus:n,onStatusChange:r,onSettingsClick:()=>i(!1)}),u.jsx(lv,{isPersonalOnly:e.role!=="manager"})]});const a=c=>{switch(c){case"todo":return t.statusTodo??"Te Doen";case"needs-pickup":return t.statusNeedsPickup??"Taak oppakken";case"in-progress":return t.statusInProgress??"Mee Bezig";case"completed":return t.statusCompleted??"Afgerond"}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[u.jsx(qu,{currentStatus:n,onStatusChange:r,onSettingsClick:()=>i(!0)}),u.jsx(iv,{status:n,title:a(n)})]})}function cv(){return u.jsx(Oh,{children:u.jsx(uv,{})})}oo.createRoot(document.getElementById("root")).render(u.jsx(Zh.StrictMode,{children:u.jsx(Oh,{children:u.jsx(cv,{})})}));
